{
"version":3,
"file":"goog.dom.dom.js",
"lineCount":1870,
"mappings":"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",
"sources":["goog/dom/dom.js"],
"sourcesContent":["// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Utilities for manipulating the browser's Document Object Model\n * Inspiration taken *heavily* from mochikit (http://mochikit.com/).\n *\n * You can use {@link goog.dom.DomHelper} to create new dom helpers that refer\n * to a different document object.  This is useful if you are working with\n * frames or multiple windows.\n *\n * @author arv@google.com (Erik Arvidsson)\n * @suppress {strictMissingProperties}\n */\n\n\n// TODO(arv): Rename/refactor getTextContent and getRawTextContent. The problem\n// is that getTextContent should mimic the DOM3 textContent. We should add a\n// getInnerText (or getText) which tries to return the visible text, innerText.\n\n\ngoog.provide('goog.dom');\ngoog.provide('goog.dom.Appendable');\ngoog.provide('goog.dom.DomHelper');\n\ngoog.require('goog.array');\ngoog.require('goog.asserts');\ngoog.require('goog.dom.BrowserFeature');\ngoog.require('goog.dom.NodeType');\ngoog.require('goog.dom.TagName');\ngoog.require('goog.dom.safe');\ngoog.require('goog.html.SafeHtml');\ngoog.require('goog.html.uncheckedconversions');\ngoog.require('goog.math.Coordinate');\ngoog.require('goog.math.Size');\ngoog.require('goog.object');\ngoog.require('goog.string');\ngoog.require('goog.string.Unicode');\ngoog.require('goog.userAgent');\n\n\n/**\n * @define {boolean} Whether we know at compile time that the browser is in\n * quirks mode.\n */\ngoog.define('goog.dom.ASSUME_QUIRKS_MODE', false);\n\n\n/**\n * @define {boolean} Whether we know at compile time that the browser is in\n * standards compliance mode.\n */\ngoog.define('goog.dom.ASSUME_STANDARDS_MODE', false);\n\n\n/**\n * Whether we know the compatibility mode at compile time.\n * @type {boolean}\n * @private\n */\ngoog.dom.COMPAT_MODE_KNOWN_ =\n    goog.dom.ASSUME_QUIRKS_MODE || goog.dom.ASSUME_STANDARDS_MODE;\n\n\n/**\n * Gets the DomHelper object for the document where the element resides.\n * @param {(Node|Window)=} opt_element If present, gets the DomHelper for this\n *     element.\n * @return {!goog.dom.DomHelper} The DomHelper.\n */\ngoog.dom.getDomHelper = function(opt_element) {\n  return opt_element ?\n      new goog.dom.DomHelper(goog.dom.getOwnerDocument(opt_element)) :\n      (goog.dom.defaultDomHelper_ ||\n       (goog.dom.defaultDomHelper_ = new goog.dom.DomHelper()));\n};\n\n\n/**\n * Cached default DOM helper.\n * @type {!goog.dom.DomHelper|undefined}\n * @private\n */\ngoog.dom.defaultDomHelper_;\n\n\n/**\n * Gets the document object being used by the dom library.\n * @return {!Document} Document object.\n */\ngoog.dom.getDocument = function() {\n  return document;\n};\n\n\n/**\n * Gets an element from the current document by element id.\n *\n * If an Element is passed in, it is returned.\n *\n * @param {string|Element} element Element ID or a DOM node.\n * @return {Element} The element with the given ID, or the node passed in.\n */\ngoog.dom.getElement = function(element) {\n  return goog.dom.getElementHelper_(document, element);\n};\n\n\n/**\n * Gets an element by id from the given document (if present).\n * If an element is given, it is returned.\n * @param {!Document} doc\n * @param {string|Element} element Element ID or a DOM node.\n * @return {Element} The resulting element.\n * @private\n */\ngoog.dom.getElementHelper_ = function(doc, element) {\n  return goog.isString(element) ? doc.getElementById(element) : element;\n};\n\n\n/**\n * Gets an element by id, asserting that the element is found.\n *\n * This is used when an element is expected to exist, and should fail with\n * an assertion error if it does not (if assertions are enabled).\n *\n * @param {string} id Element ID.\n * @return {!Element} The element with the given ID, if it exists.\n */\ngoog.dom.getRequiredElement = function(id) {\n  return goog.dom.getRequiredElementHelper_(document, id);\n};\n\n\n/**\n * Helper function for getRequiredElementHelper functions, both static and\n * on DomHelper.  Asserts the element with the given id exists.\n * @param {!Document} doc\n * @param {string} id\n * @return {!Element} The element with the given ID, if it exists.\n * @private\n */\ngoog.dom.getRequiredElementHelper_ = function(doc, id) {\n  // To prevent users passing in Elements as is permitted in getElement().\n  goog.asserts.assertString(id);\n  var element = goog.dom.getElementHelper_(doc, id);\n  element =\n      goog.asserts.assertElement(element, 'No element found with id: ' + id);\n  return element;\n};\n\n\n/**\n * Alias for getElement.\n * @param {string|Element} element Element ID or a DOM node.\n * @return {Element} The element with the given ID, or the node passed in.\n * @deprecated Use {@link goog.dom.getElement} instead.\n */\ngoog.dom.$ = goog.dom.getElement;\n\n\n/**\n * Gets elements by tag name.\n * @param {!goog.dom.TagName<T>} tagName\n * @param {(!Document|!Element)=} opt_parent Parent element or document where to\n *     look for elements. Defaults to document.\n * @return {!NodeList<R>} List of elements. The members of the list are\n *     {!Element} if tagName is not a member of goog.dom.TagName or more\n *     specific types if it is (e.g. {!HTMLAnchorElement} for\n *     goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n */\ngoog.dom.getElementsByTagName = function(tagName, opt_parent) {\n  var parent = opt_parent || document;\n  return parent.getElementsByTagName(String(tagName));\n};\n\n\n/**\n * Looks up elements by both tag and class name, using browser native functions\n * (`querySelectorAll`, `getElementsByTagName` or\n * `getElementsByClassName`) where possible. This function\n * is a useful, if limited, way of collecting a list of DOM elements\n * with certain characteristics.  `goog.dom.query` offers a\n * more powerful and general solution which allows matching on CSS3\n * selector expressions, but at increased cost in code size. If all you\n * need is particular tags belonging to a single class, this function\n * is fast and sleek.\n *\n * Note that tag names are case sensitive in the SVG namespace, and this\n * function converts opt_tag to uppercase for comparisons. For queries in the\n * SVG namespace you should use querySelector or querySelectorAll instead.\n * https://bugzilla.mozilla.org/show_bug.cgi?id=963870\n * https://bugs.webkit.org/show_bug.cgi?id=83438\n *\n * @see {goog.dom.query}\n *\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name.\n * @param {?string=} opt_class Optional class name.\n * @param {(Document|Element)=} opt_el Optional element to look in.\n * @return {!IArrayLike<R>} Array-like list of elements (only a length property\n *     and numerical indices are guaranteed to exist). The members of the array\n *     are {!Element} if opt_tag is not a member of goog.dom.TagName or more\n *     specific types if it is (e.g. {!HTMLAnchorElement} for\n *     goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n */\ngoog.dom.getElementsByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementsByTagNameAndClass_(\n      document, opt_tag, opt_class, opt_el);\n};\n\n\n/**\n * Gets the first element matching the tag and the class.\n *\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name.\n * @param {?string=} opt_class Optional class name.\n * @param {(Document|Element)=} opt_el Optional element to look in.\n * @return {?R} Reference to a DOM node. The return type is {?Element} if\n *     tagName is a string or a more specific type if it is a member of\n *     goog.dom.TagName (e.g. {?HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n */\ngoog.dom.getElementByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementByTagNameAndClass_(\n      document, opt_tag, opt_class, opt_el);\n};\n\n\n/**\n * Returns a static, array-like list of the elements with the provided\n * className.\n * @see {goog.dom.query}\n * @param {string} className the name of the class to look for.\n * @param {(Document|Element)=} opt_el Optional element to look in.\n * @return {!IArrayLike<!Element>} The items found with the class name provided.\n */\ngoog.dom.getElementsByClass = function(className, opt_el) {\n  var parent = opt_el || document;\n  if (goog.dom.canUseQuerySelector_(parent)) {\n    return parent.querySelectorAll('.' + className);\n  }\n  return goog.dom.getElementsByTagNameAndClass_(\n      document, '*', className, opt_el);\n};\n\n\n/**\n * Returns the first element with the provided className.\n * @see {goog.dom.query}\n * @param {string} className the name of the class to look for.\n * @param {Element|Document=} opt_el Optional element to look in.\n * @return {Element} The first item with the class name provided.\n */\ngoog.dom.getElementByClass = function(className, opt_el) {\n  var parent = opt_el || document;\n  var retVal = null;\n  if (parent.getElementsByClassName) {\n    retVal = parent.getElementsByClassName(className)[0];\n  } else {\n    retVal =\n        goog.dom.getElementByTagNameAndClass_(document, '*', className, opt_el);\n  }\n  return retVal || null;\n};\n\n\n/**\n * Ensures an element with the given className exists, and then returns the\n * first element with the provided className.\n * @see {goog.dom.query}\n * @param {string} className the name of the class to look for.\n * @param {!Element|!Document=} opt_root Optional element or document to look\n *     in.\n * @return {!Element} The first item with the class name provided.\n * @throws {goog.asserts.AssertionError} Thrown if no element is found.\n */\ngoog.dom.getRequiredElementByClass = function(className, opt_root) {\n  var retValue = goog.dom.getElementByClass(className, opt_root);\n  return goog.asserts.assert(\n      retValue, 'No element found with className: ' + className);\n};\n\n\n/**\n * Prefer the standardized (http://www.w3.org/TR/selectors-api/), native and\n * fast W3C Selectors API.\n * @param {!(Element|Document)} parent The parent document object.\n * @return {boolean} whether or not we can use parent.querySelector* APIs.\n * @private\n */\ngoog.dom.canUseQuerySelector_ = function(parent) {\n  return !!(parent.querySelectorAll && parent.querySelector);\n};\n\n\n/**\n * Helper for `getElementsByTagNameAndClass`.\n * @param {!Document} doc The document to get the elements in.\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name.\n * @param {?string=} opt_class Optional class name.\n * @param {(Document|Element)=} opt_el Optional element to look in.\n * @return {!IArrayLike<R>} Array-like list of elements (only a length property\n *     and numerical indices are guaranteed to exist). The members of the array\n *     are {!Element} if opt_tag is not a member of goog.dom.TagName or more\n *     specific types if it is (e.g. {!HTMLAnchorElement} for\n *     goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n * @private\n */\ngoog.dom.getElementsByTagNameAndClass_ = function(\n    doc, opt_tag, opt_class, opt_el) {\n  var parent = opt_el || doc;\n  var tagName =\n      (opt_tag && opt_tag != '*') ? String(opt_tag).toUpperCase() : '';\n\n  if (goog.dom.canUseQuerySelector_(parent) && (tagName || opt_class)) {\n    var query = tagName + (opt_class ? '.' + opt_class : '');\n    return parent.querySelectorAll(query);\n  }\n\n  // Use the native getElementsByClassName if available, under the assumption\n  // that even when the tag name is specified, there will be fewer elements to\n  // filter through when going by class than by tag name\n  if (opt_class && parent.getElementsByClassName) {\n    var els = parent.getElementsByClassName(opt_class);\n\n    if (tagName) {\n      var arrayLike = {};\n      var len = 0;\n\n      // Filter for specific tags if requested.\n      for (var i = 0, el; el = els[i]; i++) {\n        if (tagName == el.nodeName) {\n          arrayLike[len++] = el;\n        }\n      }\n      arrayLike.length = len;\n\n      return /** @type {!IArrayLike<!Element>} */ (arrayLike);\n    } else {\n      return els;\n    }\n  }\n\n  var els = parent.getElementsByTagName(tagName || '*');\n\n  if (opt_class) {\n    var arrayLike = {};\n    var len = 0;\n    for (var i = 0, el; el = els[i]; i++) {\n      var className = el.className;\n      // Check if className has a split function since SVG className does not.\n      if (typeof className.split == 'function' &&\n          goog.array.contains(className.split(/\\s+/), opt_class)) {\n        arrayLike[len++] = el;\n      }\n    }\n    arrayLike.length = len;\n    return /** @type {!IArrayLike<!Element>} */ (arrayLike);\n  } else {\n    return els;\n  }\n};\n\n\n/**\n * Helper for goog.dom.getElementByTagNameAndClass.\n *\n * @param {!Document} doc The document to get the elements in.\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name.\n * @param {?string=} opt_class Optional class name.\n * @param {(Document|Element)=} opt_el Optional element to look in.\n * @return {?R} Reference to a DOM node. The return type is {?Element} if\n *     tagName is a string or a more specific type if it is a member of\n *     goog.dom.TagName (e.g. {?HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n * @private\n */\ngoog.dom.getElementByTagNameAndClass_ = function(\n    doc, opt_tag, opt_class, opt_el) {\n  var parent = opt_el || doc;\n  var tag = (opt_tag && opt_tag != '*') ? String(opt_tag).toUpperCase() : '';\n  if (goog.dom.canUseQuerySelector_(parent) && (tag || opt_class)) {\n    return parent.querySelector(tag + (opt_class ? '.' + opt_class : ''));\n  }\n  var elements =\n      goog.dom.getElementsByTagNameAndClass_(doc, opt_tag, opt_class, opt_el);\n  return elements[0] || null;\n};\n\n\n\n/**\n * Alias for `getElementsByTagNameAndClass`.\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name.\n * @param {?string=} opt_class Optional class name.\n * @param {Element=} opt_el Optional element to look in.\n * @return {!IArrayLike<R>} Array-like list of elements (only a length property\n *     and numerical indices are guaranteed to exist). The members of the array\n *     are {!Element} if opt_tag is not a member of goog.dom.TagName or more\n *     specific types if it is (e.g. {!HTMLAnchorElement} for\n *     goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n * @deprecated Use {@link goog.dom.getElementsByTagNameAndClass} instead.\n */\ngoog.dom.$$ = goog.dom.getElementsByTagNameAndClass;\n\n\n/**\n * Sets multiple properties, and sometimes attributes, on an element. Note that\n * properties are simply object properties on the element instance, while\n * attributes are visible in the DOM. Many properties map to attributes with the\n * same names, some with different names, and there are also unmappable cases.\n *\n * This method sets properties by default (which means that custom attributes\n * are not supported). These are the exeptions (some of which is legacy):\n * - \"style\": Even though this is an attribute name, it is translated to a\n *   property, \"style.cssText\". Note that this property sanitizes and formats\n *   its value, unlike the attribute.\n * - \"class\": This is an attribute name, it is translated to the \"className\"\n *   property.\n * - \"for\": This is an attribute name, it is translated to the \"htmlFor\"\n *   property.\n * - Entries in {@see goog.dom.DIRECT_ATTRIBUTE_MAP_} are set as attributes,\n *   this is probably due to browser quirks.\n * - \"aria-*\", \"data-*\": Always set as attributes, they have no property\n *   counterparts.\n *\n * @param {Element} element DOM node to set properties on.\n * @param {Object} properties Hash of property:value pairs.\n *     Property values can be strings or goog.string.TypedString values (such as\n *     goog.html.SafeUrl).\n */\ngoog.dom.setProperties = function(element, properties) {\n  goog.object.forEach(properties, function(val, key) {\n    if (val && typeof val == 'object' && val.implementsGoogStringTypedString) {\n      val = val.getTypedStringValue();\n    }\n    if (key == 'style') {\n      element.style.cssText = val;\n    } else if (key == 'class') {\n      element.className = val;\n    } else if (key == 'for') {\n      element.htmlFor = val;\n    } else if (goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(key)) {\n      element.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[key], val);\n    } else if (\n        goog.string.startsWith(key, 'aria-') ||\n        goog.string.startsWith(key, 'data-')) {\n      element.setAttribute(key, val);\n    } else {\n      element[key] = val;\n    }\n  });\n};\n\n\n/**\n * Map of attributes that should be set using\n * element.setAttribute(key, val) instead of element[key] = val.  Used\n * by goog.dom.setProperties.\n *\n * @private {!Object<string, string>}\n * @const\n */\ngoog.dom.DIRECT_ATTRIBUTE_MAP_ = {\n  'cellpadding': 'cellPadding',\n  'cellspacing': 'cellSpacing',\n  'colspan': 'colSpan',\n  'frameborder': 'frameBorder',\n  'height': 'height',\n  'maxlength': 'maxLength',\n  'nonce': 'nonce',\n  'role': 'role',\n  'rowspan': 'rowSpan',\n  'type': 'type',\n  'usemap': 'useMap',\n  'valign': 'vAlign',\n  'width': 'width'\n};\n\n\n/**\n * Gets the dimensions of the viewport.\n *\n * Gecko Standards mode:\n * docEl.clientWidth  Width of viewport excluding scrollbar.\n * win.innerWidth     Width of viewport including scrollbar.\n * body.clientWidth   Width of body element.\n *\n * docEl.clientHeight Height of viewport excluding scrollbar.\n * win.innerHeight    Height of viewport including scrollbar.\n * body.clientHeight  Height of document.\n *\n * Gecko Backwards compatible mode:\n * docEl.clientWidth  Width of viewport excluding scrollbar.\n * win.innerWidth     Width of viewport including scrollbar.\n * body.clientWidth   Width of viewport excluding scrollbar.\n *\n * docEl.clientHeight Height of document.\n * win.innerHeight    Height of viewport including scrollbar.\n * body.clientHeight  Height of viewport excluding scrollbar.\n *\n * IE6/7 Standards mode:\n * docEl.clientWidth  Width of viewport excluding scrollbar.\n * win.innerWidth     Undefined.\n * body.clientWidth   Width of body element.\n *\n * docEl.clientHeight Height of viewport excluding scrollbar.\n * win.innerHeight    Undefined.\n * body.clientHeight  Height of document element.\n *\n * IE5 + IE6/7 Backwards compatible mode:\n * docEl.clientWidth  0.\n * win.innerWidth     Undefined.\n * body.clientWidth   Width of viewport excluding scrollbar.\n *\n * docEl.clientHeight 0.\n * win.innerHeight    Undefined.\n * body.clientHeight  Height of viewport excluding scrollbar.\n *\n * Opera 9 Standards and backwards compatible mode:\n * docEl.clientWidth  Width of viewport excluding scrollbar.\n * win.innerWidth     Width of viewport including scrollbar.\n * body.clientWidth   Width of viewport excluding scrollbar.\n *\n * docEl.clientHeight Height of document.\n * win.innerHeight    Height of viewport including scrollbar.\n * body.clientHeight  Height of viewport excluding scrollbar.\n *\n * WebKit:\n * Safari 2\n * docEl.clientHeight Same as scrollHeight.\n * docEl.clientWidth  Same as innerWidth.\n * win.innerWidth     Width of viewport excluding scrollbar.\n * win.innerHeight    Height of the viewport including scrollbar.\n * frame.innerHeight  Height of the viewport exluding scrollbar.\n *\n * Safari 3 (tested in 522)\n *\n * docEl.clientWidth  Width of viewport excluding scrollbar.\n * docEl.clientHeight Height of viewport excluding scrollbar in strict mode.\n * body.clientHeight  Height of viewport excluding scrollbar in quirks mode.\n *\n * @param {Window=} opt_window Optional window element to test.\n * @return {!goog.math.Size} Object with values 'width' and 'height'.\n */\ngoog.dom.getViewportSize = function(opt_window) {\n  // TODO(arv): This should not take an argument\n  return goog.dom.getViewportSize_(opt_window || window);\n};\n\n\n/**\n * Helper for `getViewportSize`.\n * @param {Window} win The window to get the view port size for.\n * @return {!goog.math.Size} Object with values 'width' and 'height'.\n * @private\n */\ngoog.dom.getViewportSize_ = function(win) {\n  var doc = win.document;\n  var el = goog.dom.isCss1CompatMode_(doc) ? doc.documentElement : doc.body;\n  return new goog.math.Size(el.clientWidth, el.clientHeight);\n};\n\n\n/**\n * Calculates the height of the document.\n *\n * @return {number} The height of the current document.\n */\ngoog.dom.getDocumentHeight = function() {\n  return goog.dom.getDocumentHeight_(window);\n};\n\n/**\n * Calculates the height of the document of the given window.\n *\n * @param {!Window} win The window whose document height to retrieve.\n * @return {number} The height of the document of the given window.\n */\ngoog.dom.getDocumentHeightForWindow = function(win) {\n  return goog.dom.getDocumentHeight_(win);\n};\n\n/**\n * Calculates the height of the document of the given window.\n *\n * Function code copied from the opensocial gadget api:\n *   gadgets.window.adjustHeight(opt_height)\n *\n * @private\n * @param {!Window} win The window whose document height to retrieve.\n * @return {number} The height of the document of the given window.\n */\ngoog.dom.getDocumentHeight_ = function(win) {\n  // NOTE(eae): This method will return the window size rather than the document\n  // size in webkit quirks mode.\n  var doc = win.document;\n  var height = 0;\n\n  if (doc) {\n    // Calculating inner content height is hard and different between\n    // browsers rendering in Strict vs. Quirks mode.  We use a combination of\n    // three properties within document.body and document.documentElement:\n    // - scrollHeight\n    // - offsetHeight\n    // - clientHeight\n    // These values differ significantly between browsers and rendering modes.\n    // But there are patterns.  It just takes a lot of time and persistence\n    // to figure out.\n\n    var body = doc.body;\n    var docEl = /** @type {!HTMLElement} */ (doc.documentElement);\n    if (!(docEl && body)) {\n      return 0;\n    }\n\n    // Get the height of the viewport\n    var vh = goog.dom.getViewportSize_(win).height;\n    if (goog.dom.isCss1CompatMode_(doc) && docEl.scrollHeight) {\n      // In Strict mode:\n      // The inner content height is contained in either:\n      //    document.documentElement.scrollHeight\n      //    document.documentElement.offsetHeight\n      // Based on studying the values output by different browsers,\n      // use the value that's NOT equal to the viewport height found above.\n      height =\n          docEl.scrollHeight != vh ? docEl.scrollHeight : docEl.offsetHeight;\n    } else {\n      // In Quirks mode:\n      // documentElement.clientHeight is equal to documentElement.offsetHeight\n      // except in IE.  In most browsers, document.documentElement can be used\n      // to calculate the inner content height.\n      // However, in other browsers (e.g. IE), document.body must be used\n      // instead.  How do we know which one to use?\n      // If document.documentElement.clientHeight does NOT equal\n      // document.documentElement.offsetHeight, then use document.body.\n      var sh = docEl.scrollHeight;\n      var oh = docEl.offsetHeight;\n      if (docEl.clientHeight != oh) {\n        sh = body.scrollHeight;\n        oh = body.offsetHeight;\n      }\n\n      // Detect whether the inner content height is bigger or smaller\n      // than the bounding box (viewport).  If bigger, take the larger\n      // value.  If smaller, take the smaller value.\n      if (sh > vh) {\n        // Content is larger\n        height = sh > oh ? sh : oh;\n      } else {\n        // Content is smaller\n        height = sh < oh ? sh : oh;\n      }\n    }\n  }\n\n  return height;\n};\n\n\n/**\n * Gets the page scroll distance as a coordinate object.\n *\n * @param {Window=} opt_window Optional window element to test.\n * @return {!goog.math.Coordinate} Object with values 'x' and 'y'.\n * @deprecated Use {@link goog.dom.getDocumentScroll} instead.\n */\ngoog.dom.getPageScroll = function(opt_window) {\n  var win = opt_window || goog.global || window;\n  return goog.dom.getDomHelper(win.document).getDocumentScroll();\n};\n\n\n/**\n * Gets the document scroll distance as a coordinate object.\n *\n * @return {!goog.math.Coordinate} Object with values 'x' and 'y'.\n */\ngoog.dom.getDocumentScroll = function() {\n  return goog.dom.getDocumentScroll_(document);\n};\n\n\n/**\n * Helper for `getDocumentScroll`.\n *\n * @param {!Document} doc The document to get the scroll for.\n * @return {!goog.math.Coordinate} Object with values 'x' and 'y'.\n * @private\n */\ngoog.dom.getDocumentScroll_ = function(doc) {\n  var el = goog.dom.getDocumentScrollElement_(doc);\n  var win = goog.dom.getWindow_(doc);\n  if (goog.userAgent.IE && goog.userAgent.isVersionOrHigher('10') &&\n      win.pageYOffset != el.scrollTop) {\n    // The keyboard on IE10 touch devices shifts the page using the pageYOffset\n    // without modifying scrollTop. For this case, we want the body scroll\n    // offsets.\n    return new goog.math.Coordinate(el.scrollLeft, el.scrollTop);\n  }\n  return new goog.math.Coordinate(\n      win.pageXOffset || el.scrollLeft, win.pageYOffset || el.scrollTop);\n};\n\n\n/**\n * Gets the document scroll element.\n * @return {!Element} Scrolling element.\n */\ngoog.dom.getDocumentScrollElement = function() {\n  return goog.dom.getDocumentScrollElement_(document);\n};\n\n\n/**\n * Helper for `getDocumentScrollElement`.\n * @param {!Document} doc The document to get the scroll element for.\n * @return {!Element} Scrolling element.\n * @private\n */\ngoog.dom.getDocumentScrollElement_ = function(doc) {\n  // Old WebKit needs body.scrollLeft in both quirks mode and strict mode. We\n  // also default to the documentElement if the document does not have a body\n  // (e.g. a SVG document).\n  // Uses http://dev.w3.org/csswg/cssom-view/#dom-document-scrollingelement to\n  // avoid trying to guess about browser behavior from the UA string.\n  if (doc.scrollingElement) {\n    return doc.scrollingElement;\n  }\n  if (!goog.userAgent.WEBKIT && goog.dom.isCss1CompatMode_(doc)) {\n    return doc.documentElement;\n  }\n  return doc.body || doc.documentElement;\n};\n\n\n/**\n * Gets the window object associated with the given document.\n *\n * @param {Document=} opt_doc  Document object to get window for.\n * @return {!Window} The window associated with the given document.\n */\ngoog.dom.getWindow = function(opt_doc) {\n  // TODO(arv): This should not take an argument.\n  return opt_doc ? goog.dom.getWindow_(opt_doc) : window;\n};\n\n\n/**\n * Helper for `getWindow`.\n *\n * @param {!Document} doc  Document object to get window for.\n * @return {!Window} The window associated with the given document.\n * @private\n */\ngoog.dom.getWindow_ = function(doc) {\n  return /** @type {!Window} */ (doc.parentWindow || doc.defaultView);\n};\n\n\n/**\n * Returns a dom node with a set of attributes.  This function accepts varargs\n * for subsequent nodes to be added.  Subsequent nodes will be added to the\n * first node as childNodes.\n *\n * So:\n * <code>createDom(goog.dom.TagName.DIV, null, createDom(goog.dom.TagName.P),\n * createDom(goog.dom.TagName.P));</code> would return a div with two child\n * paragraphs\n *\n * For passing properties, please see {@link goog.dom.setProperties} for more\n * information.\n *\n * @param {string|!goog.dom.TagName<T>} tagName Tag to create.\n * @param {?Object|?Array<string>|string=} opt_attributes If object, then a map\n *     of name-value pairs for attributes. If a string, then this is the\n *     className of the new element. If an array, the elements will be joined\n *     together as the className of the new element.\n * @param {...(Object|string|Array|NodeList|null|undefined)} var_args Further\n *     DOM nodes or strings for text nodes. If one of the var_args is an array\n *     or NodeList, its elements will be added as childNodes instead.\n * @return {R} Reference to a DOM node. The return type is {!Element} if tagName\n *     is a string or a more specific type if it is a member of\n *     goog.dom.TagName (e.g. {!HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n */\ngoog.dom.createDom = function(tagName, opt_attributes, var_args) {\n  return goog.dom.createDom_(document, arguments);\n};\n\n\n/**\n * Helper for `createDom`.\n * @param {!Document} doc The document to create the DOM in.\n * @param {!Arguments} args Argument object passed from the callers. See\n *     `goog.dom.createDom` for details.\n * @return {!Element} Reference to a DOM node.\n * @private\n */\ngoog.dom.createDom_ = function(doc, args) {\n  var tagName = String(args[0]);\n  var attributes = args[1];\n\n  // Internet Explorer is dumb:\n  // name: https://msdn.microsoft.com/en-us/library/ms534184(v=vs.85).aspx\n  // type: https://msdn.microsoft.com/en-us/library/ms534700(v=vs.85).aspx\n  // Also does not allow setting of 'type' attribute on 'input' or 'button'.\n  if (!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES && attributes &&\n      (attributes.name || attributes.type)) {\n    var tagNameArr = ['<', tagName];\n    if (attributes.name) {\n      tagNameArr.push(' name=\"', goog.string.htmlEscape(attributes.name), '\"');\n    }\n    if (attributes.type) {\n      tagNameArr.push(' type=\"', goog.string.htmlEscape(attributes.type), '\"');\n\n      // Clone attributes map to remove 'type' without mutating the input.\n      var clone = {};\n      goog.object.extend(clone, attributes);\n\n      // JSCompiler can't see how goog.object.extend added this property,\n      // because it was essentially added by reflection.\n      // So it needs to be quoted.\n      delete clone['type'];\n\n      attributes = clone;\n    }\n    tagNameArr.push('>');\n    tagName = tagNameArr.join('');\n  }\n\n  var element = doc.createElement(tagName);\n\n  if (attributes) {\n    if (goog.isString(attributes)) {\n      element.className = attributes;\n    } else if (goog.isArray(attributes)) {\n      element.className = attributes.join(' ');\n    } else {\n      goog.dom.setProperties(element, attributes);\n    }\n  }\n\n  if (args.length > 2) {\n    goog.dom.append_(doc, element, args, 2);\n  }\n\n  return element;\n};\n\n\n/**\n * Appends a node with text or other nodes.\n * @param {!Document} doc The document to create new nodes in.\n * @param {!Node} parent The node to append nodes to.\n * @param {!Arguments} args The values to add. See `goog.dom.append`.\n * @param {number} startIndex The index of the array to start from.\n * @private\n */\ngoog.dom.append_ = function(doc, parent, args, startIndex) {\n  function childHandler(child) {\n    // TODO(user): More coercion, ala MochiKit?\n    if (child) {\n      parent.appendChild(\n          goog.isString(child) ? doc.createTextNode(child) : child);\n    }\n  }\n\n  for (var i = startIndex; i < args.length; i++) {\n    var arg = args[i];\n    // TODO(attila): Fix isArrayLike to return false for a text node.\n    if (goog.isArrayLike(arg) && !goog.dom.isNodeLike(arg)) {\n      // If the argument is a node list, not a real array, use a clone,\n      // because forEach can't be used to mutate a NodeList.\n      goog.array.forEach(\n          goog.dom.isNodeList(arg) ? goog.array.toArray(arg) : arg,\n          childHandler);\n    } else {\n      childHandler(arg);\n    }\n  }\n};\n\n\n/**\n * Alias for `createDom`.\n * @param {string|!goog.dom.TagName<T>} tagName Tag to create.\n * @param {?Object|?Array<string>|string=} opt_attributes If object, then a map\n *     of name-value pairs for attributes. If a string, then this is the\n *     className of the new element. If an array, the elements will be joined\n *     together as the className of the new element.\n * @param {...(Object|string|Array|NodeList|null|undefined)} var_args Further\n *     DOM nodes or strings for text nodes. If one of the var_args is an array,\n *     its children will be added as childNodes instead.\n * @return {R} Reference to a DOM node. The return type is {!Element} if tagName\n *     is a string or a more specific type if it is a member of\n *     goog.dom.TagName (e.g. {!HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n * @deprecated Use {@link goog.dom.createDom} instead.\n */\ngoog.dom.$dom = goog.dom.createDom;\n\n\n/**\n * Creates a new element.\n * @param {string|!goog.dom.TagName<T>} name Tag to create.\n * @return {R} The new element. The return type is {!Element} if name is\n *     a string or a more specific type if it is a member of goog.dom.TagName\n *     (e.g. {!HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n */\ngoog.dom.createElement = function(name) {\n  return goog.dom.createElement_(document, name);\n};\n\n\n/**\n * Creates a new element.\n * @param {!Document} doc The document to create the element in.\n * @param {string|!goog.dom.TagName<T>} name Tag to create.\n * @return {R} The new element. The return type is {!Element} if name is\n *     a string or a more specific type if it is a member of goog.dom.TagName\n *     (e.g. {!HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n * @private\n */\ngoog.dom.createElement_ = function(doc, name) {\n  return doc.createElement(String(name));\n};\n\n\n/**\n * Creates a new text node.\n * @param {number|string} content Content.\n * @return {!Text} The new text node.\n */\ngoog.dom.createTextNode = function(content) {\n  return document.createTextNode(String(content));\n};\n\n\n/**\n * Create a table.\n * @param {number} rows The number of rows in the table.  Must be >= 1.\n * @param {number} columns The number of columns in the table.  Must be >= 1.\n * @param {boolean=} opt_fillWithNbsp If true, fills table entries with\n *     `goog.string.Unicode.NBSP` characters.\n * @return {!Element} The created table.\n */\ngoog.dom.createTable = function(rows, columns, opt_fillWithNbsp) {\n  // TODO(mlourenco): Return HTMLTableElement, also in prototype function.\n  // Callers need to be updated to e.g. not assign numbers to table.cellSpacing.\n  return goog.dom.createTable_(document, rows, columns, !!opt_fillWithNbsp);\n};\n\n\n/**\n * Create a table.\n * @param {!Document} doc Document object to use to create the table.\n * @param {number} rows The number of rows in the table.  Must be >= 1.\n * @param {number} columns The number of columns in the table.  Must be >= 1.\n * @param {boolean} fillWithNbsp If true, fills table entries with\n *     `goog.string.Unicode.NBSP` characters.\n * @return {!HTMLTableElement} The created table.\n * @private\n */\ngoog.dom.createTable_ = function(doc, rows, columns, fillWithNbsp) {\n  var table = goog.dom.createElement_(doc, goog.dom.TagName.TABLE);\n  var tbody =\n      table.appendChild(goog.dom.createElement_(doc, goog.dom.TagName.TBODY));\n  for (var i = 0; i < rows; i++) {\n    var tr = goog.dom.createElement_(doc, goog.dom.TagName.TR);\n    for (var j = 0; j < columns; j++) {\n      var td = goog.dom.createElement_(doc, goog.dom.TagName.TD);\n      // IE <= 9 will create a text node if we set text content to the empty\n      // string, so we avoid doing it unless necessary. This ensures that the\n      // same DOM tree is returned on all browsers.\n      if (fillWithNbsp) {\n        goog.dom.setTextContent(td, goog.string.Unicode.NBSP);\n      }\n      tr.appendChild(td);\n    }\n    tbody.appendChild(tr);\n  }\n  return table;\n};\n\n\n\n/**\n * Creates a new Node from constant strings of HTML markup.\n * @param {...!goog.string.Const} var_args The HTML strings to concatenate then\n *     convert into a node.\n * @return {!Node}\n */\ngoog.dom.constHtmlToNode = function(var_args) {\n  var stringArray = goog.array.map(arguments, goog.string.Const.unwrap);\n  var safeHtml =\n      goog.html.uncheckedconversions\n          .safeHtmlFromStringKnownToSatisfyTypeContract(\n              goog.string.Const.from(\n                  'Constant HTML string, that gets turned into a ' +\n                  'Node later, so it will be automatically balanced.'),\n              stringArray.join(''));\n  return goog.dom.safeHtmlToNode(safeHtml);\n};\n\n\n/**\n * Converts HTML markup into a node. This is a safe version of\n * `goog.dom.htmlToDocumentFragment` which is now deleted.\n * @param {!goog.html.SafeHtml} html The HTML markup to convert.\n * @return {!Node} The resulting node.\n */\ngoog.dom.safeHtmlToNode = function(html) {\n  return goog.dom.safeHtmlToNode_(document, html);\n};\n\n\n/**\n * Helper for `safeHtmlToNode`.\n * @param {!Document} doc The document.\n * @param {!goog.html.SafeHtml} html The HTML markup to convert.\n * @return {!Node} The resulting node.\n * @private\n */\ngoog.dom.safeHtmlToNode_ = function(doc, html) {\n  var tempDiv = goog.dom.createElement_(doc, goog.dom.TagName.DIV);\n  if (goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT) {\n    goog.dom.safe.setInnerHtml(\n        tempDiv, goog.html.SafeHtml.concat(goog.html.SafeHtml.BR, html));\n    tempDiv.removeChild(goog.asserts.assert(tempDiv.firstChild));\n  } else {\n    goog.dom.safe.setInnerHtml(tempDiv, html);\n  }\n  return goog.dom.childrenToNode_(doc, tempDiv);\n};\n\n\n/**\n * Helper for `safeHtmlToNode_`.\n * @param {!Document} doc The document.\n * @param {!Node} tempDiv The input node.\n * @return {!Node} The resulting node.\n * @private\n */\ngoog.dom.childrenToNode_ = function(doc, tempDiv) {\n  if (tempDiv.childNodes.length == 1) {\n    return tempDiv.removeChild(goog.asserts.assert(tempDiv.firstChild));\n  } else {\n    var fragment = doc.createDocumentFragment();\n    while (tempDiv.firstChild) {\n      fragment.appendChild(tempDiv.firstChild);\n    }\n    return fragment;\n  }\n};\n\n\n/**\n * Returns true if the browser is in \"CSS1-compatible\" (standards-compliant)\n * mode, false otherwise.\n * @return {boolean} True if in CSS1-compatible mode.\n */\ngoog.dom.isCss1CompatMode = function() {\n  return goog.dom.isCss1CompatMode_(document);\n};\n\n\n/**\n * Returns true if the browser is in \"CSS1-compatible\" (standards-compliant)\n * mode, false otherwise.\n * @param {!Document} doc The document to check.\n * @return {boolean} True if in CSS1-compatible mode.\n * @private\n */\ngoog.dom.isCss1CompatMode_ = function(doc) {\n  if (goog.dom.COMPAT_MODE_KNOWN_) {\n    return goog.dom.ASSUME_STANDARDS_MODE;\n  }\n\n  return doc.compatMode == 'CSS1Compat';\n};\n\n\n/**\n * Determines if the given node can contain children, intended to be used for\n * HTML generation.\n *\n * IE natively supports node.canHaveChildren but has inconsistent behavior.\n * Prior to IE8 the base tag allows children and in IE9 all nodes return true\n * for canHaveChildren.\n *\n * In practice all non-IE browsers allow you to add children to any node, but\n * the behavior is inconsistent:\n *\n * <pre>\n *   var a = goog.dom.createElement(goog.dom.TagName.BR);\n *   a.appendChild(document.createTextNode('foo'));\n *   a.appendChild(document.createTextNode('bar'));\n *   console.log(a.childNodes.length);  // 2\n *   console.log(a.innerHTML);  // Chrome: \"\", IE9: \"foobar\", FF3.5: \"foobar\"\n * </pre>\n *\n * For more information, see:\n * http://dev.w3.org/html5/markup/syntax.html#syntax-elements\n *\n * TODO(user): Rename shouldAllowChildren() ?\n *\n * @param {Node} node The node to check.\n * @return {boolean} Whether the node can contain children.\n */\ngoog.dom.canHaveChildren = function(node) {\n  if (node.nodeType != goog.dom.NodeType.ELEMENT) {\n    return false;\n  }\n  switch (/** @type {!Element} */ (node).tagName) {\n    case String(goog.dom.TagName.APPLET):\n    case String(goog.dom.TagName.AREA):\n    case String(goog.dom.TagName.BASE):\n    case String(goog.dom.TagName.BR):\n    case String(goog.dom.TagName.COL):\n    case String(goog.dom.TagName.COMMAND):\n    case String(goog.dom.TagName.EMBED):\n    case String(goog.dom.TagName.FRAME):\n    case String(goog.dom.TagName.HR):\n    case String(goog.dom.TagName.IMG):\n    case String(goog.dom.TagName.INPUT):\n    case String(goog.dom.TagName.IFRAME):\n    case String(goog.dom.TagName.ISINDEX):\n    case String(goog.dom.TagName.KEYGEN):\n    case String(goog.dom.TagName.LINK):\n    case String(goog.dom.TagName.NOFRAMES):\n    case String(goog.dom.TagName.NOSCRIPT):\n    case String(goog.dom.TagName.META):\n    case String(goog.dom.TagName.OBJECT):\n    case String(goog.dom.TagName.PARAM):\n    case String(goog.dom.TagName.SCRIPT):\n    case String(goog.dom.TagName.SOURCE):\n    case String(goog.dom.TagName.STYLE):\n    case String(goog.dom.TagName.TRACK):\n    case String(goog.dom.TagName.WBR):\n      return false;\n  }\n  return true;\n};\n\n\n/**\n * Appends a child to a node.\n * @param {Node} parent Parent.\n * @param {Node} child Child.\n */\ngoog.dom.appendChild = function(parent, child) {\n  goog.asserts.assert(\n      parent != null && child != null,\n      'goog.dom.appendChild expects non-null arguments');\n  parent.appendChild(child);\n};\n\n\n/**\n * Appends a node with text or other nodes.\n * @param {!Node} parent The node to append nodes to.\n * @param {...goog.dom.Appendable} var_args The things to append to the node.\n *     If this is a Node it is appended as is.\n *     If this is a string then a text node is appended.\n *     If this is an array like object then fields 0 to length - 1 are appended.\n */\ngoog.dom.append = function(parent, var_args) {\n  goog.dom.append_(goog.dom.getOwnerDocument(parent), parent, arguments, 1);\n};\n\n\n/**\n * Removes all the child nodes on a DOM node.\n * @param {Node} node Node to remove children from.\n */\ngoog.dom.removeChildren = function(node) {\n  // Note: Iterations over live collections can be slow, this is the fastest\n  // we could find. The double parenthesis are used to prevent JsCompiler and\n  // strict warnings.\n  var child;\n  while ((child = node.firstChild)) {\n    node.removeChild(child);\n  }\n};\n\n\n/**\n * Inserts a new node before an existing reference node (i.e. as the previous\n * sibling). If the reference node has no parent, then does nothing.\n * @param {Node} newNode Node to insert.\n * @param {Node} refNode Reference node to insert before.\n */\ngoog.dom.insertSiblingBefore = function(newNode, refNode) {\n  goog.asserts.assert(\n      newNode != null && refNode != null,\n      'goog.dom.insertSiblingBefore expects non-null arguments');\n  if (refNode.parentNode) {\n    refNode.parentNode.insertBefore(newNode, refNode);\n  }\n};\n\n\n/**\n * Inserts a new node after an existing reference node (i.e. as the next\n * sibling). If the reference node has no parent, then does nothing.\n * @param {Node} newNode Node to insert.\n * @param {Node} refNode Reference node to insert after.\n */\ngoog.dom.insertSiblingAfter = function(newNode, refNode) {\n  goog.asserts.assert(\n      newNode != null && refNode != null,\n      'goog.dom.insertSiblingAfter expects non-null arguments');\n  if (refNode.parentNode) {\n    refNode.parentNode.insertBefore(newNode, refNode.nextSibling);\n  }\n};\n\n\n/**\n * Insert a child at a given index. If index is larger than the number of child\n * nodes that the parent currently has, the node is inserted as the last child\n * node.\n * @param {Element} parent The element into which to insert the child.\n * @param {Node} child The element to insert.\n * @param {number} index The index at which to insert the new child node. Must\n *     not be negative.\n */\ngoog.dom.insertChildAt = function(parent, child, index) {\n  // Note that if the second argument is null, insertBefore\n  // will append the child at the end of the list of children.\n  goog.asserts.assert(\n      parent != null, 'goog.dom.insertChildAt expects a non-null parent');\n  parent.insertBefore(child, parent.childNodes[index] || null);\n};\n\n\n/**\n * Removes a node from its parent.\n * @param {Node} node The node to remove.\n * @return {Node} The node removed if removed; else, null.\n */\ngoog.dom.removeNode = function(node) {\n  return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n};\n\n\n/**\n * Replaces a node in the DOM tree. Will do nothing if `oldNode` has no\n * parent.\n * @param {Node} newNode Node to insert.\n * @param {Node} oldNode Node to replace.\n */\ngoog.dom.replaceNode = function(newNode, oldNode) {\n  goog.asserts.assert(\n      newNode != null && oldNode != null,\n      'goog.dom.replaceNode expects non-null arguments');\n  var parent = oldNode.parentNode;\n  if (parent) {\n    parent.replaceChild(newNode, oldNode);\n  }\n};\n\n\n/**\n * Flattens an element. That is, removes it and replace it with its children.\n * Does nothing if the element is not in the document.\n * @param {Element} element The element to flatten.\n * @return {Element|undefined} The original element, detached from the document\n *     tree, sans children; or undefined, if the element was not in the document\n *     to begin with.\n */\ngoog.dom.flattenElement = function(element) {\n  var child, parent = element.parentNode;\n  if (parent && parent.nodeType != goog.dom.NodeType.DOCUMENT_FRAGMENT) {\n    // Use IE DOM method (supported by Opera too) if available\n    if (element.removeNode) {\n      return /** @type {Element} */ (element.removeNode(false));\n    } else {\n      // Move all children of the original node up one level.\n      while ((child = element.firstChild)) {\n        parent.insertBefore(child, element);\n      }\n\n      // Detach the original element.\n      return /** @type {Element} */ (goog.dom.removeNode(element));\n    }\n  }\n};\n\n\n/**\n * Returns an array containing just the element children of the given element.\n * @param {Element} element The element whose element children we want.\n * @return {!(Array<!Element>|NodeList<!Element>)} An array or array-like list\n *     of just the element children of the given element.\n */\ngoog.dom.getChildren = function(element) {\n  // We check if the children attribute is supported for child elements\n  // since IE8 misuses the attribute by also including comments.\n  if (goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE &&\n      element.children != undefined) {\n    return element.children;\n  }\n  // Fall back to manually filtering the element's child nodes.\n  return goog.array.filter(element.childNodes, function(node) {\n    return node.nodeType == goog.dom.NodeType.ELEMENT;\n  });\n};\n\n\n/**\n * Returns the first child node that is an element.\n * @param {Node} node The node to get the first child element of.\n * @return {Element} The first child node of `node` that is an element.\n */\ngoog.dom.getFirstElementChild = function(node) {\n  if (goog.isDef(node.firstElementChild)) {\n    return /** @type {!Element} */ (node).firstElementChild;\n  }\n  return goog.dom.getNextElementNode_(node.firstChild, true);\n};\n\n\n/**\n * Returns the last child node that is an element.\n * @param {Node} node The node to get the last child element of.\n * @return {Element} The last child node of `node` that is an element.\n */\ngoog.dom.getLastElementChild = function(node) {\n  if (goog.isDef(node.lastElementChild)) {\n    return /** @type {!Element} */ (node).lastElementChild;\n  }\n  return goog.dom.getNextElementNode_(node.lastChild, false);\n};\n\n\n/**\n * Returns the first next sibling that is an element.\n * @param {Node} node The node to get the next sibling element of.\n * @return {Element} The next sibling of `node` that is an element.\n */\ngoog.dom.getNextElementSibling = function(node) {\n  if (goog.isDef(node.nextElementSibling)) {\n    return /** @type {!Element} */ (node).nextElementSibling;\n  }\n  return goog.dom.getNextElementNode_(node.nextSibling, true);\n};\n\n\n/**\n * Returns the first previous sibling that is an element.\n * @param {Node} node The node to get the previous sibling element of.\n * @return {Element} The first previous sibling of `node` that is\n *     an element.\n */\ngoog.dom.getPreviousElementSibling = function(node) {\n  if (goog.isDef(node.previousElementSibling)) {\n    return /** @type {!Element} */ (node).previousElementSibling;\n  }\n  return goog.dom.getNextElementNode_(node.previousSibling, false);\n};\n\n\n/**\n * Returns the first node that is an element in the specified direction,\n * starting with `node`.\n * @param {Node} node The node to get the next element from.\n * @param {boolean} forward Whether to look forwards or backwards.\n * @return {Element} The first element.\n * @private\n */\ngoog.dom.getNextElementNode_ = function(node, forward) {\n  while (node && node.nodeType != goog.dom.NodeType.ELEMENT) {\n    node = forward ? node.nextSibling : node.previousSibling;\n  }\n\n  return /** @type {Element} */ (node);\n};\n\n\n/**\n * Returns the next node in source order from the given node.\n * @param {Node} node The node.\n * @return {Node} The next node in the DOM tree, or null if this was the last\n *     node.\n */\ngoog.dom.getNextNode = function(node) {\n  if (!node) {\n    return null;\n  }\n\n  if (node.firstChild) {\n    return node.firstChild;\n  }\n\n  while (node && !node.nextSibling) {\n    node = node.parentNode;\n  }\n\n  return node ? node.nextSibling : null;\n};\n\n\n/**\n * Returns the previous node in source order from the given node.\n * @param {Node} node The node.\n * @return {Node} The previous node in the DOM tree, or null if this was the\n *     first node.\n */\ngoog.dom.getPreviousNode = function(node) {\n  if (!node) {\n    return null;\n  }\n\n  if (!node.previousSibling) {\n    return node.parentNode;\n  }\n\n  node = node.previousSibling;\n  while (node && node.lastChild) {\n    node = node.lastChild;\n  }\n\n  return node;\n};\n\n\n/**\n * Whether the object looks like a DOM node.\n * @param {?} obj The object being tested for node likeness.\n * @return {boolean} Whether the object looks like a DOM node.\n */\ngoog.dom.isNodeLike = function(obj) {\n  return goog.isObject(obj) && obj.nodeType > 0;\n};\n\n\n/**\n * Whether the object looks like an Element.\n * @param {?} obj The object being tested for Element likeness.\n * @return {boolean} Whether the object looks like an Element.\n */\ngoog.dom.isElement = function(obj) {\n  return goog.isObject(obj) && obj.nodeType == goog.dom.NodeType.ELEMENT;\n};\n\n\n/**\n * Returns true if the specified value is a Window object. This includes the\n * global window for HTML pages, and iframe windows.\n * @param {?} obj Variable to test.\n * @return {boolean} Whether the variable is a window.\n */\ngoog.dom.isWindow = function(obj) {\n  return goog.isObject(obj) && obj['window'] == obj;\n};\n\n\n/**\n * Returns an element's parent, if it's an Element.\n * @param {Element} element The DOM element.\n * @return {Element} The parent, or null if not an Element.\n */\ngoog.dom.getParentElement = function(element) {\n  var parent;\n  if (goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY) {\n    var isIe9 = goog.userAgent.IE && goog.userAgent.isVersionOrHigher('9') &&\n        !goog.userAgent.isVersionOrHigher('10');\n    // SVG elements in IE9 can't use the parentElement property.\n    // goog.global['SVGElement'] is not defined in IE9 quirks mode.\n    if (!(isIe9 && goog.global['SVGElement'] &&\n          element instanceof goog.global['SVGElement'])) {\n      parent = element.parentElement;\n      if (parent) {\n        return parent;\n      }\n    }\n  }\n  parent = element.parentNode;\n  return goog.dom.isElement(parent) ? /** @type {!Element} */ (parent) : null;\n};\n\n\n/**\n * Whether a node contains another node.\n * @param {?Node|undefined} parent The node that should contain the other node.\n * @param {?Node|undefined} descendant The node to test presence of.\n * @return {boolean} Whether the parent node contains the descendant node.\n */\ngoog.dom.contains = function(parent, descendant) {\n  if (!parent || !descendant) {\n    return false;\n  }\n  // We use browser specific methods for this if available since it is faster\n  // that way.\n\n  // IE DOM\n  if (parent.contains && descendant.nodeType == goog.dom.NodeType.ELEMENT) {\n    return parent == descendant || parent.contains(descendant);\n  }\n\n  // W3C DOM Level 3\n  if (typeof parent.compareDocumentPosition != 'undefined') {\n    return parent == descendant ||\n        Boolean(parent.compareDocumentPosition(descendant) & 16);\n  }\n\n  // W3C DOM Level 1\n  while (descendant && parent != descendant) {\n    descendant = descendant.parentNode;\n  }\n  return descendant == parent;\n};\n\n\n/**\n * Compares the document order of two nodes, returning 0 if they are the same\n * node, a negative number if node1 is before node2, and a positive number if\n * node2 is before node1.  Note that we compare the order the tags appear in the\n * document so in the tree <b><i>text</i></b> the B node is considered to be\n * before the I node.\n *\n * @param {Node} node1 The first node to compare.\n * @param {Node} node2 The second node to compare.\n * @return {number} 0 if the nodes are the same node, a negative number if node1\n *     is before node2, and a positive number if node2 is before node1.\n */\ngoog.dom.compareNodeOrder = function(node1, node2) {\n  // Fall out quickly for equality.\n  if (node1 == node2) {\n    return 0;\n  }\n\n  // Use compareDocumentPosition where available\n  if (node1.compareDocumentPosition) {\n    // 4 is the bitmask for FOLLOWS.\n    return node1.compareDocumentPosition(node2) & 2 ? 1 : -1;\n  }\n\n  // Special case for document nodes on IE 7 and 8.\n  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {\n    if (node1.nodeType == goog.dom.NodeType.DOCUMENT) {\n      return -1;\n    }\n    if (node2.nodeType == goog.dom.NodeType.DOCUMENT) {\n      return 1;\n    }\n  }\n\n  // Process in IE using sourceIndex - we check to see if the first node has\n  // a source index or if its parent has one.\n  if ('sourceIndex' in node1 ||\n      (node1.parentNode && 'sourceIndex' in node1.parentNode)) {\n    var isElement1 = node1.nodeType == goog.dom.NodeType.ELEMENT;\n    var isElement2 = node2.nodeType == goog.dom.NodeType.ELEMENT;\n\n    if (isElement1 && isElement2) {\n      return node1.sourceIndex - node2.sourceIndex;\n    } else {\n      var parent1 = node1.parentNode;\n      var parent2 = node2.parentNode;\n\n      if (parent1 == parent2) {\n        return goog.dom.compareSiblingOrder_(node1, node2);\n      }\n\n      if (!isElement1 && goog.dom.contains(parent1, node2)) {\n        return -1 * goog.dom.compareParentsDescendantNodeIe_(node1, node2);\n      }\n\n\n      if (!isElement2 && goog.dom.contains(parent2, node1)) {\n        return goog.dom.compareParentsDescendantNodeIe_(node2, node1);\n      }\n\n      return (isElement1 ? node1.sourceIndex : parent1.sourceIndex) -\n          (isElement2 ? node2.sourceIndex : parent2.sourceIndex);\n    }\n  }\n\n  // For Safari, we compare ranges.\n  var doc = goog.dom.getOwnerDocument(node1);\n\n  var range1, range2;\n  range1 = doc.createRange();\n  range1.selectNode(node1);\n  range1.collapse(true);\n\n  range2 = doc.createRange();\n  range2.selectNode(node2);\n  range2.collapse(true);\n\n  return range1.compareBoundaryPoints(\n      goog.global['Range'].START_TO_END, range2);\n};\n\n\n/**\n * Utility function to compare the position of two nodes, when\n * `textNode`'s parent is an ancestor of `node`.  If this entry\n * condition is not met, this function will attempt to reference a null object.\n * @param {!Node} textNode The textNode to compare.\n * @param {Node} node The node to compare.\n * @return {number} -1 if node is before textNode, +1 otherwise.\n * @private\n */\ngoog.dom.compareParentsDescendantNodeIe_ = function(textNode, node) {\n  var parent = textNode.parentNode;\n  if (parent == node) {\n    // If textNode is a child of node, then node comes first.\n    return -1;\n  }\n  var sibling = node;\n  while (sibling.parentNode != parent) {\n    sibling = sibling.parentNode;\n  }\n  return goog.dom.compareSiblingOrder_(sibling, textNode);\n};\n\n\n/**\n * Utility function to compare the position of two nodes known to be non-equal\n * siblings.\n * @param {Node} node1 The first node to compare.\n * @param {!Node} node2 The second node to compare.\n * @return {number} -1 if node1 is before node2, +1 otherwise.\n * @private\n */\ngoog.dom.compareSiblingOrder_ = function(node1, node2) {\n  var s = node2;\n  while ((s = s.previousSibling)) {\n    if (s == node1) {\n      // We just found node1 before node2.\n      return -1;\n    }\n  }\n\n  // Since we didn't find it, node1 must be after node2.\n  return 1;\n};\n\n\n/**\n * Find the deepest common ancestor of the given nodes.\n * @param {...Node} var_args The nodes to find a common ancestor of.\n * @return {Node} The common ancestor of the nodes, or null if there is none.\n *     null will only be returned if two or more of the nodes are from different\n *     documents.\n */\ngoog.dom.findCommonAncestor = function(var_args) {\n  var i, count = arguments.length;\n  if (!count) {\n    return null;\n  } else if (count == 1) {\n    return arguments[0];\n  }\n\n  var paths = [];\n  var minLength = Infinity;\n  for (i = 0; i < count; i++) {\n    // Compute the list of ancestors.\n    var ancestors = [];\n    var node = arguments[i];\n    while (node) {\n      ancestors.unshift(node);\n      node = node.parentNode;\n    }\n\n    // Save the list for comparison.\n    paths.push(ancestors);\n    minLength = Math.min(minLength, ancestors.length);\n  }\n  var output = null;\n  for (i = 0; i < minLength; i++) {\n    var first = paths[0][i];\n    for (var j = 1; j < count; j++) {\n      if (first != paths[j][i]) {\n        return output;\n      }\n    }\n    output = first;\n  }\n  return output;\n};\n\n\n/**\n * Returns the owner document for a node.\n * @param {Node|Window} node The node to get the document for.\n * @return {!Document} The document owning the node.\n */\ngoog.dom.getOwnerDocument = function(node) {\n  // TODO(nnaze): Update param signature to be non-nullable.\n  goog.asserts.assert(node, 'Node cannot be null or undefined.');\n  return /** @type {!Document} */ (\n      node.nodeType == goog.dom.NodeType.DOCUMENT ? node : node.ownerDocument ||\n              node.document);\n};\n\n\n/**\n * Cross-browser function for getting the document element of a frame or iframe.\n * @param {Element} frame Frame element.\n * @return {!Document} The frame content document.\n */\ngoog.dom.getFrameContentDocument = function(frame) {\n  return frame.contentDocument ||\n      /** @type {!HTMLFrameElement} */ (frame).contentWindow.document;\n};\n\n\n/**\n * Cross-browser function for getting the window of a frame or iframe.\n * @param {Element} frame Frame element.\n * @return {Window} The window associated with the given frame, or null if none\n *     exists.\n */\ngoog.dom.getFrameContentWindow = function(frame) {\n  try {\n    return frame.contentWindow ||\n        (frame.contentDocument ? goog.dom.getWindow(frame.contentDocument) :\n                                 null);\n  } catch (e) {\n    // NOTE(user): In IE8, checking the contentWindow or contentDocument\n    // properties will throw a \"Unspecified Error\" exception if the iframe is\n    // not inserted in the DOM. If we get this we can be sure that no window\n    // exists, so return null.\n  }\n  return null;\n};\n\n\n/**\n * Sets the text content of a node, with cross-browser support.\n * @param {Node} node The node to change the text content of.\n * @param {string|number} text The value that should replace the node's content.\n */\ngoog.dom.setTextContent = function(node, text) {\n  goog.asserts.assert(\n      node != null,\n      'goog.dom.setTextContent expects a non-null value for node');\n\n  if ('textContent' in node) {\n    node.textContent = text;\n  } else if (node.nodeType == goog.dom.NodeType.TEXT) {\n    /** @type {!Text} */ (node).data = String(text);\n  } else if (\n      node.firstChild && node.firstChild.nodeType == goog.dom.NodeType.TEXT) {\n    // If the first child is a text node we just change its data and remove the\n    // rest of the children.\n    while (node.lastChild != node.firstChild) {\n      node.removeChild(goog.asserts.assert(node.lastChild));\n    }\n    /** @type {!Text} */ (node.firstChild).data = String(text);\n  } else {\n    goog.dom.removeChildren(node);\n    var doc = goog.dom.getOwnerDocument(node);\n    node.appendChild(doc.createTextNode(String(text)));\n  }\n};\n\n\n/**\n * Gets the outerHTML of a node, which islike innerHTML, except that it\n * actually contains the HTML of the node itself.\n * @param {Element} element The element to get the HTML of.\n * @return {string} The outerHTML of the given element.\n */\ngoog.dom.getOuterHtml = function(element) {\n  goog.asserts.assert(\n      element !== null,\n      'goog.dom.getOuterHtml expects a non-null value for element');\n  // IE, Opera and WebKit all have outerHTML.\n  if ('outerHTML' in element) {\n    return element.outerHTML;\n  } else {\n    var doc = goog.dom.getOwnerDocument(element);\n    var div = goog.dom.createElement_(doc, goog.dom.TagName.DIV);\n    div.appendChild(element.cloneNode(true));\n    return div.innerHTML;\n  }\n};\n\n\n/**\n * Finds the first descendant node that matches the filter function, using\n * a depth first search. This function offers the most general purpose way\n * of finding a matching element. You may also wish to consider\n * `goog.dom.query` which can express many matching criteria using\n * CSS selector expressions. These expressions often result in a more\n * compact representation of the desired result.\n * @see goog.dom.query\n *\n * @param {Node} root The root of the tree to search.\n * @param {function(Node) : boolean} p The filter function.\n * @return {Node|undefined} The found node or undefined if none is found.\n */\ngoog.dom.findNode = function(root, p) {\n  var rv = [];\n  var found = goog.dom.findNodes_(root, p, rv, true);\n  return found ? rv[0] : undefined;\n};\n\n\n/**\n * Finds all the descendant nodes that match the filter function, using a\n * a depth first search. This function offers the most general-purpose way\n * of finding a set of matching elements. You may also wish to consider\n * `goog.dom.query` which can express many matching criteria using\n * CSS selector expressions. These expressions often result in a more\n * compact representation of the desired result.\n\n * @param {Node} root The root of the tree to search.\n * @param {function(Node) : boolean} p The filter function.\n * @return {!Array<!Node>} The found nodes or an empty array if none are found.\n */\ngoog.dom.findNodes = function(root, p) {\n  var rv = [];\n  goog.dom.findNodes_(root, p, rv, false);\n  return rv;\n};\n\n\n/**\n * Finds the first or all the descendant nodes that match the filter function,\n * using a depth first search.\n * @param {Node} root The root of the tree to search.\n * @param {function(Node) : boolean} p The filter function.\n * @param {!Array<!Node>} rv The found nodes are added to this array.\n * @param {boolean} findOne If true we exit after the first found node.\n * @return {boolean} Whether the search is complete or not. True in case findOne\n *     is true and the node is found. False otherwise.\n * @private\n */\ngoog.dom.findNodes_ = function(root, p, rv, findOne) {\n  if (root != null) {\n    var child = root.firstChild;\n    while (child) {\n      if (p(child)) {\n        rv.push(child);\n        if (findOne) {\n          return true;\n        }\n      }\n      if (goog.dom.findNodes_(child, p, rv, findOne)) {\n        return true;\n      }\n      child = child.nextSibling;\n    }\n  }\n  return false;\n};\n\n\n/**\n * Map of tags whose content to ignore when calculating text length.\n * @private {!Object<string, number>}\n * @const\n */\ngoog.dom.TAGS_TO_IGNORE_ = {\n  'SCRIPT': 1,\n  'STYLE': 1,\n  'HEAD': 1,\n  'IFRAME': 1,\n  'OBJECT': 1\n};\n\n\n/**\n * Map of tags which have predefined values with regard to whitespace.\n * @private {!Object<string, string>}\n * @const\n */\ngoog.dom.PREDEFINED_TAG_VALUES_ = {\n  'IMG': ' ',\n  'BR': '\\n'\n};\n\n\n/**\n * Returns true if the element has a tab index that allows it to receive\n * keyboard focus (tabIndex >= 0), false otherwise.  Note that some elements\n * natively support keyboard focus, even if they have no tab index.\n * @param {!Element} element Element to check.\n * @return {boolean} Whether the element has a tab index that allows keyboard\n *     focus.\n */\ngoog.dom.isFocusableTabIndex = function(element) {\n  return goog.dom.hasSpecifiedTabIndex_(element) &&\n      goog.dom.isTabIndexFocusable_(element);\n};\n\n\n/**\n * Enables or disables keyboard focus support on the element via its tab index.\n * Only elements for which {@link goog.dom.isFocusableTabIndex} returns true\n * (or elements that natively support keyboard focus, like form elements) can\n * receive keyboard focus.  See http://go/tabindex for more info.\n * @param {Element} element Element whose tab index is to be changed.\n * @param {boolean} enable Whether to set or remove a tab index on the element\n *     that supports keyboard focus.\n */\ngoog.dom.setFocusableTabIndex = function(element, enable) {\n  if (enable) {\n    element.tabIndex = 0;\n  } else {\n    // Set tabIndex to -1 first, then remove it. This is a workaround for\n    // Safari (confirmed in version 4 on Windows). When removing the attribute\n    // without setting it to -1 first, the element remains keyboard focusable\n    // despite not having a tabIndex attribute anymore.\n    element.tabIndex = -1;\n    element.removeAttribute('tabIndex');  // Must be camelCase!\n  }\n};\n\n\n/**\n * Returns true if the element can be focused, i.e. it has a tab index that\n * allows it to receive keyboard focus (tabIndex >= 0), or it is an element\n * that natively supports keyboard focus.\n * @param {!Element} element Element to check.\n * @return {boolean} Whether the element allows keyboard focus.\n */\ngoog.dom.isFocusable = function(element) {\n  var focusable;\n  // Some elements can have unspecified tab index and still receive focus.\n  if (goog.dom.nativelySupportsFocus_(element)) {\n    // Make sure the element is not disabled ...\n    focusable = !element.disabled &&\n        // ... and if a tab index is specified, it allows focus.\n        (!goog.dom.hasSpecifiedTabIndex_(element) ||\n         goog.dom.isTabIndexFocusable_(element));\n  } else {\n    focusable = goog.dom.isFocusableTabIndex(element);\n  }\n\n  // IE requires elements to be visible in order to focus them.\n  return focusable && goog.userAgent.IE ?\n      goog.dom.hasNonZeroBoundingRect_(/** @type {!HTMLElement} */ (element)) :\n      focusable;\n};\n\n\n/**\n * Returns true if the element has a specified tab index.\n * @param {!Element} element Element to check.\n * @return {boolean} Whether the element has a specified tab index.\n * @private\n */\ngoog.dom.hasSpecifiedTabIndex_ = function(element) {\n  // IE8 and below don't support hasAttribute(), instead check whether the\n  // 'tabindex' attributeNode is specified. Otherwise check hasAttribute().\n  if (goog.userAgent.IE && !goog.userAgent.isVersionOrHigher('9')) {\n    var attrNode = element.getAttributeNode('tabindex');  // Must be lowercase!\n    return goog.isDefAndNotNull(attrNode) && attrNode.specified;\n  } else {\n    return element.hasAttribute('tabindex');\n  }\n};\n\n\n/**\n * Returns true if the element's tab index allows the element to be focused.\n * @param {!Element} element Element to check.\n * @return {boolean} Whether the element's tab index allows focus.\n * @private\n */\ngoog.dom.isTabIndexFocusable_ = function(element) {\n  var index = /** @type {!HTMLElement} */ (element).tabIndex;\n  // NOTE: IE9 puts tabIndex in 16-bit int, e.g. -2 is 65534.\n  return goog.isNumber(index) && index >= 0 && index < 32768;\n};\n\n\n/**\n * Returns true if the element is focusable even when tabIndex is not set.\n * @param {!Element} element Element to check.\n * @return {boolean} Whether the element natively supports focus.\n * @private\n */\ngoog.dom.nativelySupportsFocus_ = function(element) {\n  return (\n      element.tagName == goog.dom.TagName.A && element.hasAttribute('href') ||\n      element.tagName == goog.dom.TagName.INPUT ||\n      element.tagName == goog.dom.TagName.TEXTAREA ||\n      element.tagName == goog.dom.TagName.SELECT ||\n      element.tagName == goog.dom.TagName.BUTTON);\n};\n\n\n/**\n * Returns true if the element has a bounding rectangle that would be visible\n * (i.e. its width and height are greater than zero).\n * @param {!HTMLElement} element Element to check.\n * @return {boolean} Whether the element has a non-zero bounding rectangle.\n * @private\n */\ngoog.dom.hasNonZeroBoundingRect_ = function(element) {\n  var rect;\n  if (!goog.isFunction(element['getBoundingClientRect']) ||\n      // In IE, getBoundingClientRect throws on detached nodes.\n      (goog.userAgent.IE && element.parentElement == null)) {\n    rect = {'height': element.offsetHeight, 'width': element.offsetWidth};\n  } else {\n    rect = element.getBoundingClientRect();\n  }\n  return goog.isDefAndNotNull(rect) && rect.height > 0 && rect.width > 0;\n};\n\n\n/**\n * Returns the text content of the current node, without markup and invisible\n * symbols. New lines are stripped and whitespace is collapsed,\n * such that each character would be visible.\n *\n * In browsers that support it, innerText is used.  Other browsers attempt to\n * simulate it via node traversal.  Line breaks are canonicalized in IE.\n *\n * @param {Node} node The node from which we are getting content.\n * @return {string} The text content.\n */\ngoog.dom.getTextContent = function(node) {\n  var textContent;\n  // Note(arv): IE9, Opera, and Safari 3 support innerText but they include\n  // text nodes in script tags. So we revert to use a user agent test here.\n  if (goog.dom.BrowserFeature.CAN_USE_INNER_TEXT && node !== null &&\n      ('innerText' in node)) {\n    textContent = goog.string.canonicalizeNewlines(node.innerText);\n    // Unfortunately .innerText() returns text with &shy; symbols\n    // We need to filter it out and then remove duplicate whitespaces\n  } else {\n    var buf = [];\n    goog.dom.getTextContent_(node, buf, true);\n    textContent = buf.join('');\n  }\n\n  // Strip &shy; entities. goog.format.insertWordBreaks inserts them in Opera.\n  textContent = textContent.replace(/ \\xAD /g, ' ').replace(/\\xAD/g, '');\n  // Strip &#8203; entities. goog.format.insertWordBreaks inserts them in IE8.\n  textContent = textContent.replace(/\\u200B/g, '');\n\n  // Skip this replacement on old browsers with working innerText, which\n  // automatically turns &nbsp; into ' ' and / +/ into ' ' when reading\n  // innerText.\n  if (!goog.dom.BrowserFeature.CAN_USE_INNER_TEXT) {\n    textContent = textContent.replace(/ +/g, ' ');\n  }\n  if (textContent != ' ') {\n    textContent = textContent.replace(/^\\s*/, '');\n  }\n\n  return textContent;\n};\n\n\n/**\n * Returns the text content of the current node, without markup.\n *\n * Unlike `getTextContent` this method does not collapse whitespaces\n * or normalize lines breaks.\n *\n * @param {Node} node The node from which we are getting content.\n * @return {string} The raw text content.\n */\ngoog.dom.getRawTextContent = function(node) {\n  var buf = [];\n  goog.dom.getTextContent_(node, buf, false);\n\n  return buf.join('');\n};\n\n\n/**\n * Recursive support function for text content retrieval.\n *\n * @param {Node} node The node from which we are getting content.\n * @param {Array<string>} buf string buffer.\n * @param {boolean} normalizeWhitespace Whether to normalize whitespace.\n * @private\n */\ngoog.dom.getTextContent_ = function(node, buf, normalizeWhitespace) {\n  if (node.nodeName in goog.dom.TAGS_TO_IGNORE_) {\n    // ignore certain tags\n  } else if (node.nodeType == goog.dom.NodeType.TEXT) {\n    if (normalizeWhitespace) {\n      buf.push(String(node.nodeValue).replace(/(\\r\\n|\\r|\\n)/g, ''));\n    } else {\n      buf.push(node.nodeValue);\n    }\n  } else if (node.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) {\n    buf.push(goog.dom.PREDEFINED_TAG_VALUES_[node.nodeName]);\n  } else {\n    var child = node.firstChild;\n    while (child) {\n      goog.dom.getTextContent_(child, buf, normalizeWhitespace);\n      child = child.nextSibling;\n    }\n  }\n};\n\n\n/**\n * Returns the text length of the text contained in a node, without markup. This\n * is equivalent to the selection length if the node was selected, or the number\n * of cursor movements to traverse the node. Images & BRs take one space.  New\n * lines are ignored.\n *\n * @param {Node} node The node whose text content length is being calculated.\n * @return {number} The length of `node`'s text content.\n */\ngoog.dom.getNodeTextLength = function(node) {\n  return goog.dom.getTextContent(node).length;\n};\n\n\n/**\n * Returns the text offset of a node relative to one of its ancestors. The text\n * length is the same as the length calculated by goog.dom.getNodeTextLength.\n *\n * @param {Node} node The node whose offset is being calculated.\n * @param {Node=} opt_offsetParent The node relative to which the offset will\n *     be calculated. Defaults to the node's owner document's body.\n * @return {number} The text offset.\n */\ngoog.dom.getNodeTextOffset = function(node, opt_offsetParent) {\n  var root = opt_offsetParent || goog.dom.getOwnerDocument(node).body;\n  var buf = [];\n  while (node && node != root) {\n    var cur = node;\n    while ((cur = cur.previousSibling)) {\n      buf.unshift(goog.dom.getTextContent(cur));\n    }\n    node = node.parentNode;\n  }\n  // Trim left to deal with FF cases when there might be line breaks and empty\n  // nodes at the front of the text\n  return goog.string.trimLeft(buf.join('')).replace(/ +/g, ' ').length;\n};\n\n\n/**\n * Returns the node at a given offset in a parent node.  If an object is\n * provided for the optional third parameter, the node and the remainder of the\n * offset will stored as properties of this object.\n * @param {Node} parent The parent node.\n * @param {number} offset The offset into the parent node.\n * @param {Object=} opt_result Object to be used to store the return value. The\n *     return value will be stored in the form {node: Node, remainder: number}\n *     if this object is provided.\n * @return {Node} The node at the given offset.\n */\ngoog.dom.getNodeAtOffset = function(parent, offset, opt_result) {\n  var stack = [parent], pos = 0, cur = null;\n  while (stack.length > 0 && pos < offset) {\n    cur = stack.pop();\n    if (cur.nodeName in goog.dom.TAGS_TO_IGNORE_) {\n      // ignore certain tags\n    } else if (cur.nodeType == goog.dom.NodeType.TEXT) {\n      var text = cur.nodeValue.replace(/(\\r\\n|\\r|\\n)/g, '').replace(/ +/g, ' ');\n      pos += text.length;\n    } else if (cur.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) {\n      pos += goog.dom.PREDEFINED_TAG_VALUES_[cur.nodeName].length;\n    } else {\n      for (var i = cur.childNodes.length - 1; i >= 0; i--) {\n        stack.push(cur.childNodes[i]);\n      }\n    }\n  }\n  if (goog.isObject(opt_result)) {\n    opt_result.remainder = cur ? cur.nodeValue.length + offset - pos - 1 : 0;\n    opt_result.node = cur;\n  }\n\n  return cur;\n};\n\n\n/**\n * Returns true if the object is a `NodeList`.  To qualify as a NodeList,\n * the object must have a numeric length property and an item function (which\n * has type 'string' on IE for some reason).\n * @param {Object} val Object to test.\n * @return {boolean} Whether the object is a NodeList.\n */\ngoog.dom.isNodeList = function(val) {\n  // TODO(attila): Now the isNodeList is part of goog.dom we can use\n  // goog.userAgent to make this simpler.\n  // A NodeList must have a length property of type 'number' on all platforms.\n  if (val && typeof val.length == 'number') {\n    // A NodeList is an object everywhere except Safari, where it's a function.\n    if (goog.isObject(val)) {\n      // A NodeList must have an item function (on non-IE platforms) or an item\n      // property of type 'string' (on IE).\n      return typeof val.item == 'function' || typeof val.item == 'string';\n    } else if (goog.isFunction(val)) {\n      // On Safari, a NodeList is a function with an item property that is also\n      // a function.\n      return typeof /** @type {?} */ (val.item) == 'function';\n    }\n  }\n\n  // Not a NodeList.\n  return false;\n};\n\n\n/**\n * Walks up the DOM hierarchy returning the first ancestor that has the passed\n * tag name and/or class name. If the passed element matches the specified\n * criteria, the element itself is returned.\n * @param {Node} element The DOM node to start with.\n * @param {?(goog.dom.TagName<T>|string)=} opt_tag The tag name to match (or\n *     null/undefined to match only based on class name).\n * @param {?string=} opt_class The class name to match (or null/undefined to\n *     match only based on tag name).\n * @param {number=} opt_maxSearchSteps Maximum number of levels to search up the\n *     dom.\n * @return {?R} The first ancestor that matches the passed criteria, or\n *     null if no match is found. The return type is {?Element} if opt_tag is\n *     not a member of goog.dom.TagName or a more specific type if it is (e.g.\n *     {?HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n */\ngoog.dom.getAncestorByTagNameAndClass = function(\n    element, opt_tag, opt_class, opt_maxSearchSteps) {\n  if (!opt_tag && !opt_class) {\n    return null;\n  }\n  var tagName = opt_tag ? String(opt_tag).toUpperCase() : null;\n  return /** @type {Element} */ (goog.dom.getAncestor(element, function(node) {\n    return (!tagName || node.nodeName == tagName) &&\n        (!opt_class ||\n         goog.isString(node.className) &&\n             goog.array.contains(node.className.split(/\\s+/), opt_class));\n  }, true, opt_maxSearchSteps));\n};\n\n\n/**\n * Walks up the DOM hierarchy returning the first ancestor that has the passed\n * class name. If the passed element matches the specified criteria, the\n * element itself is returned.\n * @param {Node} element The DOM node to start with.\n * @param {string} className The class name to match.\n * @param {number=} opt_maxSearchSteps Maximum number of levels to search up the\n *     dom.\n * @return {Element} The first ancestor that matches the passed criteria, or\n *     null if none match.\n */\ngoog.dom.getAncestorByClass = function(element, className, opt_maxSearchSteps) {\n  return goog.dom.getAncestorByTagNameAndClass(\n      element, null, className, opt_maxSearchSteps);\n};\n\n\n/**\n * Walks up the DOM hierarchy returning the first ancestor that passes the\n * matcher function.\n * @param {Node} element The DOM node to start with.\n * @param {function(Node) : boolean} matcher A function that returns true if the\n *     passed node matches the desired criteria.\n * @param {boolean=} opt_includeNode If true, the node itself is included in\n *     the search (the first call to the matcher will pass startElement as\n *     the node to test).\n * @param {number=} opt_maxSearchSteps Maximum number of levels to search up the\n *     dom.\n * @return {Node} DOM node that matched the matcher, or null if there was\n *     no match.\n */\ngoog.dom.getAncestor = function(\n    element, matcher, opt_includeNode, opt_maxSearchSteps) {\n  if (element && !opt_includeNode) {\n    element = element.parentNode;\n  }\n  var steps = 0;\n  while (element &&\n         (opt_maxSearchSteps == null || steps <= opt_maxSearchSteps)) {\n    goog.asserts.assert(element.name != 'parentNode');\n    if (matcher(element)) {\n      return element;\n    }\n    element = element.parentNode;\n    steps++;\n  }\n  // Reached the root of the DOM without a match\n  return null;\n};\n\n\n/**\n * Determines the active element in the given document.\n * @param {Document} doc The document to look in.\n * @return {Element} The active element.\n */\ngoog.dom.getActiveElement = function(doc) {\n  // While in an iframe, IE9 will throw \"Unspecified error\" when accessing\n  // activeElement.\n  try {\n    var activeElement = doc && doc.activeElement;\n    // While not in an iframe, IE9-11 sometimes gives null.\n    // While in an iframe, IE11 sometimes returns an empty object.\n    return activeElement && activeElement.nodeName ? activeElement : null;\n  } catch (e) {\n    return null;\n  }\n};\n\n\n/**\n * Gives the current devicePixelRatio.\n *\n * By default, this is the value of window.devicePixelRatio (which should be\n * preferred if present).\n *\n * If window.devicePixelRatio is not present, the ratio is calculated with\n * window.matchMedia, if present. Otherwise, gives 1.0.\n *\n * Some browsers (including Chrome) consider the browser zoom level in the pixel\n * ratio, so the value may change across multiple calls.\n *\n * @return {number} The number of actual pixels per virtual pixel.\n */\ngoog.dom.getPixelRatio = function() {\n  var win = goog.dom.getWindow();\n  if (goog.isDef(win.devicePixelRatio)) {\n    return win.devicePixelRatio;\n  } else if (win.matchMedia) {\n    // Should be for IE10 and FF6-17 (this basically clamps to lower)\n    // Note that the order of these statements is important\n    return goog.dom.matchesPixelRatio_(3) || goog.dom.matchesPixelRatio_(2) ||\n           goog.dom.matchesPixelRatio_(1.5) || goog.dom.matchesPixelRatio_(1) ||\n           .75;\n  }\n  return 1;\n};\n\n\n/**\n * Calculates a mediaQuery to check if the current device supports the\n * given actual to virtual pixel ratio.\n * @param {number} pixelRatio The ratio of actual pixels to virtual pixels.\n * @return {number} pixelRatio if applicable, otherwise 0.\n * @private\n */\ngoog.dom.matchesPixelRatio_ = function(pixelRatio) {\n  var win = goog.dom.getWindow();\n  /**\n   * Due to the 1:96 fixed ratio of CSS in to CSS px, 1dppx is equivalent to\n   * 96dpi.\n   * @const {number}\n   */\n  var dpiPerDppx = 96;\n  var query =\n      // FF16-17\n      '(min-resolution: ' + pixelRatio + 'dppx),' +\n      // FF6-15\n      '(min--moz-device-pixel-ratio: ' + pixelRatio + '),' +\n      // IE10 (this works for the two browsers above too but I don't want to\n      // trust the 1:96 fixed ratio magic)\n      '(min-resolution: ' + (pixelRatio * dpiPerDppx) + 'dpi)';\n  return win.matchMedia(query).matches ? pixelRatio : 0;\n};\n\n\n/**\n * Gets '2d' context of a canvas. Shortcut for canvas.getContext('2d') with a\n * type information.\n * @param {!HTMLCanvasElement} canvas\n * @return {!CanvasRenderingContext2D}\n */\ngoog.dom.getCanvasContext2D = function(canvas) {\n  return /** @type {!CanvasRenderingContext2D} */ (canvas.getContext('2d'));\n};\n\n\n\n/**\n * Create an instance of a DOM helper with a new document object.\n * @param {Document=} opt_document Document object to associate with this\n *     DOM helper.\n * @constructor\n */\ngoog.dom.DomHelper = function(opt_document) {\n  /**\n   * Reference to the document object to use\n   * @type {!Document}\n   * @private\n   */\n  this.document_ = opt_document || goog.global.document || document;\n};\n\n\n/**\n * Gets the dom helper object for the document where the element resides.\n * @param {Node=} opt_node If present, gets the DomHelper for this node.\n * @return {!goog.dom.DomHelper} The DomHelper.\n */\ngoog.dom.DomHelper.prototype.getDomHelper = goog.dom.getDomHelper;\n\n\n/**\n * Sets the document object.\n * @param {!Document} document Document object.\n */\ngoog.dom.DomHelper.prototype.setDocument = function(document) {\n  this.document_ = document;\n};\n\n\n/**\n * Gets the document object being used by the dom library.\n * @return {!Document} Document object.\n */\ngoog.dom.DomHelper.prototype.getDocument = function() {\n  return this.document_;\n};\n\n\n/**\n * Alias for `getElementById`. If a DOM node is passed in then we just\n * return that.\n * @param {string|Element} element Element ID or a DOM node.\n * @return {Element} The element with the given ID, or the node passed in.\n */\ngoog.dom.DomHelper.prototype.getElement = function(element) {\n  return goog.dom.getElementHelper_(this.document_, element);\n};\n\n\n/**\n * Gets an element by id, asserting that the element is found.\n *\n * This is used when an element is expected to exist, and should fail with\n * an assertion error if it does not (if assertions are enabled).\n *\n * @param {string} id Element ID.\n * @return {!Element} The element with the given ID, if it exists.\n */\ngoog.dom.DomHelper.prototype.getRequiredElement = function(id) {\n  return goog.dom.getRequiredElementHelper_(this.document_, id);\n};\n\n\n/**\n * Alias for `getElement`.\n * @param {string|Element} element Element ID or a DOM node.\n * @return {Element} The element with the given ID, or the node passed in.\n * @deprecated Use {@link goog.dom.DomHelper.prototype.getElement} instead.\n */\ngoog.dom.DomHelper.prototype.$ = goog.dom.DomHelper.prototype.getElement;\n\n\n/**\n * Gets elements by tag name.\n * @param {!goog.dom.TagName<T>} tagName\n * @param {(!Document|!Element)=} opt_parent Parent element or document where to\n *     look for elements. Defaults to document of this DomHelper.\n * @return {!NodeList<R>} List of elements. The members of the list are\n *     {!Element} if tagName is not a member of goog.dom.TagName or more\n *     specific types if it is (e.g. {!HTMLAnchorElement} for\n *     goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n */\ngoog.dom.DomHelper.prototype.getElementsByTagName =\n    function(tagName, opt_parent) {\n  var parent = opt_parent || this.document_;\n  return parent.getElementsByTagName(String(tagName));\n};\n\n\n/**\n * Looks up elements by both tag and class name, using browser native functions\n * (`querySelectorAll`, `getElementsByTagName` or\n * `getElementsByClassName`) where possible. The returned array is a live\n * NodeList or a static list depending on the code path taken.\n *\n * @see goog.dom.query\n *\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name or * for all\n *     tags.\n * @param {?string=} opt_class Optional class name.\n * @param {(Document|Element)=} opt_el Optional element to look in.\n * @return {!IArrayLike<R>} Array-like list of elements (only a length property\n *     and numerical indices are guaranteed to exist). The members of the array\n *     are {!Element} if opt_tag is not a member of goog.dom.TagName or more\n *     specific types if it is (e.g. {!HTMLAnchorElement} for\n *     goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n */\ngoog.dom.DomHelper.prototype.getElementsByTagNameAndClass = function(\n    opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementsByTagNameAndClass_(\n      this.document_, opt_tag, opt_class, opt_el);\n};\n\n\n/**\n * Gets the first element matching the tag and the class.\n *\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name.\n * @param {?string=} opt_class Optional class name.\n * @param {(Document|Element)=} opt_el Optional element to look in.\n * @return {?R} Reference to a DOM node. The return type is {?Element} if\n *     tagName is a string or a more specific type if it is a member of\n *     goog.dom.TagName (e.g. {?HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n */\ngoog.dom.DomHelper.prototype.getElementByTagNameAndClass = function(\n    opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementByTagNameAndClass_(\n      this.document_, opt_tag, opt_class, opt_el);\n};\n\n\n/**\n * Returns an array of all the elements with the provided className.\n * @see {goog.dom.query}\n * @param {string} className the name of the class to look for.\n * @param {Element|Document=} opt_el Optional element to look in.\n * @return {!IArrayLike<!Element>} The items found with the class name provided.\n */\ngoog.dom.DomHelper.prototype.getElementsByClass = function(className, opt_el) {\n  var doc = opt_el || this.document_;\n  return goog.dom.getElementsByClass(className, doc);\n};\n\n\n/**\n * Returns the first element we find matching the provided class name.\n * @see {goog.dom.query}\n * @param {string} className the name of the class to look for.\n * @param {(Element|Document)=} opt_el Optional element to look in.\n * @return {Element} The first item found with the class name provided.\n */\ngoog.dom.DomHelper.prototype.getElementByClass = function(className, opt_el) {\n  var doc = opt_el || this.document_;\n  return goog.dom.getElementByClass(className, doc);\n};\n\n\n/**\n * Ensures an element with the given className exists, and then returns the\n * first element with the provided className.\n * @see {goog.dom.query}\n * @param {string} className the name of the class to look for.\n * @param {(!Element|!Document)=} opt_root Optional element or document to look\n *     in.\n * @return {!Element} The first item found with the class name provided.\n * @throws {goog.asserts.AssertionError} Thrown if no element is found.\n */\ngoog.dom.DomHelper.prototype.getRequiredElementByClass = function(\n    className, opt_root) {\n  var root = opt_root || this.document_;\n  return goog.dom.getRequiredElementByClass(className, root);\n};\n\n\n/**\n * Alias for `getElementsByTagNameAndClass`.\n * @deprecated Use DomHelper getElementsByTagNameAndClass.\n * @see goog.dom.query\n *\n * @param {(string|?goog.dom.TagName<T>)=} opt_tag Element tag name.\n * @param {?string=} opt_class Optional class name.\n * @param {Element=} opt_el Optional element to look in.\n * @return {!IArrayLike<R>} Array-like list of elements (only a length property\n *     and numerical indices are guaranteed to exist). The members of the array\n *     are {!Element} if opt_tag is a string or more specific types if it is\n *     a member of goog.dom.TagName (e.g. {!HTMLAnchorElement} for\n *     goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n */\ngoog.dom.DomHelper.prototype.$$ =\n    goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;\n\n\n/**\n * Sets a number of properties on a node.\n * @param {Element} element DOM node to set properties on.\n * @param {Object} properties Hash of property:value pairs.\n */\ngoog.dom.DomHelper.prototype.setProperties = goog.dom.setProperties;\n\n\n/**\n * Gets the dimensions of the viewport.\n * @param {Window=} opt_window Optional window element to test. Defaults to\n *     the window of the Dom Helper.\n * @return {!goog.math.Size} Object with values 'width' and 'height'.\n */\ngoog.dom.DomHelper.prototype.getViewportSize = function(opt_window) {\n  // TODO(arv): This should not take an argument. That breaks the rule of a\n  // a DomHelper representing a single frame/window/document.\n  return goog.dom.getViewportSize(opt_window || this.getWindow());\n};\n\n\n/**\n * Calculates the height of the document.\n *\n * @return {number} The height of the document.\n */\ngoog.dom.DomHelper.prototype.getDocumentHeight = function() {\n  return goog.dom.getDocumentHeight_(this.getWindow());\n};\n\n\n/**\n * Typedef for use with goog.dom.createDom and goog.dom.append.\n * @typedef {Object|string|Array|NodeList}\n */\ngoog.dom.Appendable;\n\n\n/**\n * Returns a dom node with a set of attributes.  This function accepts varargs\n * for subsequent nodes to be added.  Subsequent nodes will be added to the\n * first node as childNodes.\n *\n * So:\n * <code>createDom(goog.dom.TagName.DIV, null, createDom(goog.dom.TagName.P),\n * createDom(goog.dom.TagName.P));</code> would return a div with two child\n * paragraphs\n *\n * An easy way to move all child nodes of an existing element to a new parent\n * element is:\n * <code>createDom(goog.dom.TagName.DIV, null, oldElement.childNodes);</code>\n * which will remove all child nodes from the old element and add them as\n * child nodes of the new DIV.\n *\n * @param {string|!goog.dom.TagName<T>} tagName Tag to create.\n * @param {?Object|?Array<string>|string=} opt_attributes If object, then a map\n *     of name-value pairs for attributes. If a string, then this is the\n *     className of the new element. If an array, the elements will be joined\n *     together as the className of the new element.\n * @param {...(goog.dom.Appendable|undefined)} var_args Further DOM nodes or\n *     strings for text nodes. If one of the var_args is an array or\n *     NodeList, its elements will be added as childNodes instead.\n * @return {R} Reference to a DOM node. The return type is {!Element} if tagName\n *     is a string or a more specific type if it is a member of\n *     goog.dom.TagName (e.g. {!HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n */\ngoog.dom.DomHelper.prototype.createDom = function(\n    tagName, opt_attributes, var_args) {\n  return goog.dom.createDom_(this.document_, arguments);\n};\n\n\n/**\n * Alias for `createDom`.\n * @param {string|!goog.dom.TagName<T>} tagName Tag to create.\n * @param {?Object|?Array<string>|string=} opt_attributes If object, then a map\n *     of name-value pairs for attributes. If a string, then this is the\n *     className of the new element. If an array, the elements will be joined\n *     together as the className of the new element.\n * @param {...(goog.dom.Appendable|undefined)} var_args Further DOM nodes or\n *     strings for text nodes.  If one of the var_args is an array, its children\n *     will be added as childNodes instead.\n * @return {R} Reference to a DOM node. The return type is {!Element} if tagName\n *     is a string or a more specific type if it is a member of\n *     goog.dom.TagName (e.g. {!HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n * @deprecated Use {@link goog.dom.DomHelper.prototype.createDom} instead.\n */\ngoog.dom.DomHelper.prototype.$dom = goog.dom.DomHelper.prototype.createDom;\n\n\n/**\n * Creates a new element.\n * @param {string|!goog.dom.TagName<T>} name Tag to create.\n * @return {R} The new element. The return type is {!Element} if name is\n *     a string or a more specific type if it is a member of goog.dom.TagName\n *     (e.g. {!HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n */\ngoog.dom.DomHelper.prototype.createElement = function(name) {\n  return goog.dom.createElement_(this.document_, name);\n};\n\n\n/**\n * Creates a new text node.\n * @param {number|string} content Content.\n * @return {!Text} The new text node.\n */\ngoog.dom.DomHelper.prototype.createTextNode = function(content) {\n  return this.document_.createTextNode(String(content));\n};\n\n\n/**\n * Create a table.\n * @param {number} rows The number of rows in the table.  Must be >= 1.\n * @param {number} columns The number of columns in the table.  Must be >= 1.\n * @param {boolean=} opt_fillWithNbsp If true, fills table entries with\n *     `goog.string.Unicode.NBSP` characters.\n * @return {!HTMLElement} The created table.\n */\ngoog.dom.DomHelper.prototype.createTable = function(\n    rows, columns, opt_fillWithNbsp) {\n  return goog.dom.createTable_(\n      this.document_, rows, columns, !!opt_fillWithNbsp);\n};\n\n\n/**\n * Converts an HTML into a node or a document fragment. A single Node is used if\n * `html` only generates a single node. If `html` generates multiple\n * nodes then these are put inside a `DocumentFragment`. This is a safe\n * version of `goog.dom.DomHelper#htmlToDocumentFragment` which is now\n * deleted.\n * @param {!goog.html.SafeHtml} html The HTML markup to convert.\n * @return {!Node} The resulting node.\n */\ngoog.dom.DomHelper.prototype.safeHtmlToNode = function(html) {\n  return goog.dom.safeHtmlToNode_(this.document_, html);\n};\n\n\n/**\n * Returns true if the browser is in \"CSS1-compatible\" (standards-compliant)\n * mode, false otherwise.\n * @return {boolean} True if in CSS1-compatible mode.\n */\ngoog.dom.DomHelper.prototype.isCss1CompatMode = function() {\n  return goog.dom.isCss1CompatMode_(this.document_);\n};\n\n\n/**\n * Gets the window object associated with the document.\n * @return {!Window} The window associated with the given document.\n */\ngoog.dom.DomHelper.prototype.getWindow = function() {\n  return goog.dom.getWindow_(this.document_);\n};\n\n\n/**\n * Gets the document scroll element.\n * @return {!Element} Scrolling element.\n */\ngoog.dom.DomHelper.prototype.getDocumentScrollElement = function() {\n  return goog.dom.getDocumentScrollElement_(this.document_);\n};\n\n\n/**\n * Gets the document scroll distance as a coordinate object.\n * @return {!goog.math.Coordinate} Object with properties 'x' and 'y'.\n */\ngoog.dom.DomHelper.prototype.getDocumentScroll = function() {\n  return goog.dom.getDocumentScroll_(this.document_);\n};\n\n\n/**\n * Determines the active element in the given document.\n * @param {Document=} opt_doc The document to look in.\n * @return {Element} The active element.\n */\ngoog.dom.DomHelper.prototype.getActiveElement = function(opt_doc) {\n  return goog.dom.getActiveElement(opt_doc || this.document_);\n};\n\n\n/**\n * Appends a child to a node.\n * @param {Node} parent Parent.\n * @param {Node} child Child.\n */\ngoog.dom.DomHelper.prototype.appendChild = goog.dom.appendChild;\n\n\n/**\n * Appends a node with text or other nodes.\n * @param {!Node} parent The node to append nodes to.\n * @param {...goog.dom.Appendable} var_args The things to append to the node.\n *     If this is a Node it is appended as is.\n *     If this is a string then a text node is appended.\n *     If this is an array like object then fields 0 to length - 1 are appended.\n */\ngoog.dom.DomHelper.prototype.append = goog.dom.append;\n\n\n/**\n * Determines if the given node can contain children, intended to be used for\n * HTML generation.\n *\n * @param {Node} node The node to check.\n * @return {boolean} Whether the node can contain children.\n */\ngoog.dom.DomHelper.prototype.canHaveChildren = goog.dom.canHaveChildren;\n\n\n/**\n * Removes all the child nodes on a DOM node.\n * @param {Node} node Node to remove children from.\n */\ngoog.dom.DomHelper.prototype.removeChildren = goog.dom.removeChildren;\n\n\n/**\n * Inserts a new node before an existing reference node (i.e., as the previous\n * sibling). If the reference node has no parent, then does nothing.\n * @param {Node} newNode Node to insert.\n * @param {Node} refNode Reference node to insert before.\n */\ngoog.dom.DomHelper.prototype.insertSiblingBefore = goog.dom.insertSiblingBefore;\n\n\n/**\n * Inserts a new node after an existing reference node (i.e., as the next\n * sibling). If the reference node has no parent, then does nothing.\n * @param {Node} newNode Node to insert.\n * @param {Node} refNode Reference node to insert after.\n */\ngoog.dom.DomHelper.prototype.insertSiblingAfter = goog.dom.insertSiblingAfter;\n\n\n/**\n * Insert a child at a given index. If index is larger than the number of child\n * nodes that the parent currently has, the node is inserted as the last child\n * node.\n * @param {Element} parent The element into which to insert the child.\n * @param {Node} child The element to insert.\n * @param {number} index The index at which to insert the new child node. Must\n *     not be negative.\n */\ngoog.dom.DomHelper.prototype.insertChildAt = goog.dom.insertChildAt;\n\n\n/**\n * Removes a node from its parent.\n * @param {Node} node The node to remove.\n * @return {Node} The node removed if removed; else, null.\n */\ngoog.dom.DomHelper.prototype.removeNode = goog.dom.removeNode;\n\n\n/**\n * Replaces a node in the DOM tree. Will do nothing if `oldNode` has no\n * parent.\n * @param {Node} newNode Node to insert.\n * @param {Node} oldNode Node to replace.\n */\ngoog.dom.DomHelper.prototype.replaceNode = goog.dom.replaceNode;\n\n\n/**\n * Flattens an element. That is, removes it and replace it with its children.\n * @param {Element} element The element to flatten.\n * @return {Element|undefined} The original element, detached from the document\n *     tree, sans children, or undefined if the element was already not in the\n *     document.\n */\ngoog.dom.DomHelper.prototype.flattenElement = goog.dom.flattenElement;\n\n\n/**\n * Returns an array containing just the element children of the given element.\n * @param {Element} element The element whose element children we want.\n * @return {!(Array<!Element>|NodeList<!Element>)} An array or array-like list\n *     of just the element children of the given element.\n */\ngoog.dom.DomHelper.prototype.getChildren = goog.dom.getChildren;\n\n\n/**\n * Returns the first child node that is an element.\n * @param {Node} node The node to get the first child element of.\n * @return {Element} The first child node of `node` that is an element.\n */\ngoog.dom.DomHelper.prototype.getFirstElementChild =\n    goog.dom.getFirstElementChild;\n\n\n/**\n * Returns the last child node that is an element.\n * @param {Node} node The node to get the last child element of.\n * @return {Element} The last child node of `node` that is an element.\n */\ngoog.dom.DomHelper.prototype.getLastElementChild = goog.dom.getLastElementChild;\n\n\n/**\n * Returns the first next sibling that is an element.\n * @param {Node} node The node to get the next sibling element of.\n * @return {Element} The next sibling of `node` that is an element.\n */\ngoog.dom.DomHelper.prototype.getNextElementSibling =\n    goog.dom.getNextElementSibling;\n\n\n/**\n * Returns the first previous sibling that is an element.\n * @param {Node} node The node to get the previous sibling element of.\n * @return {Element} The first previous sibling of `node` that is\n *     an element.\n */\ngoog.dom.DomHelper.prototype.getPreviousElementSibling =\n    goog.dom.getPreviousElementSibling;\n\n\n/**\n * Returns the next node in source order from the given node.\n * @param {Node} node The node.\n * @return {Node} The next node in the DOM tree, or null if this was the last\n *     node.\n */\ngoog.dom.DomHelper.prototype.getNextNode = goog.dom.getNextNode;\n\n\n/**\n * Returns the previous node in source order from the given node.\n * @param {Node} node The node.\n * @return {Node} The previous node in the DOM tree, or null if this was the\n *     first node.\n */\ngoog.dom.DomHelper.prototype.getPreviousNode = goog.dom.getPreviousNode;\n\n\n/**\n * Whether the object looks like a DOM node.\n * @param {?} obj The object being tested for node likeness.\n * @return {boolean} Whether the object looks like a DOM node.\n */\ngoog.dom.DomHelper.prototype.isNodeLike = goog.dom.isNodeLike;\n\n\n/**\n * Whether the object looks like an Element.\n * @param {?} obj The object being tested for Element likeness.\n * @return {boolean} Whether the object looks like an Element.\n */\ngoog.dom.DomHelper.prototype.isElement = goog.dom.isElement;\n\n\n/**\n * Returns true if the specified value is a Window object. This includes the\n * global window for HTML pages, and iframe windows.\n * @param {?} obj Variable to test.\n * @return {boolean} Whether the variable is a window.\n */\ngoog.dom.DomHelper.prototype.isWindow = goog.dom.isWindow;\n\n\n/**\n * Returns an element's parent, if it's an Element.\n * @param {Element} element The DOM element.\n * @return {Element} The parent, or null if not an Element.\n */\ngoog.dom.DomHelper.prototype.getParentElement = goog.dom.getParentElement;\n\n\n/**\n * Whether a node contains another node.\n * @param {Node} parent The node that should contain the other node.\n * @param {Node} descendant The node to test presence of.\n * @return {boolean} Whether the parent node contains the descendant node.\n */\ngoog.dom.DomHelper.prototype.contains = goog.dom.contains;\n\n\n/**\n * Compares the document order of two nodes, returning 0 if they are the same\n * node, a negative number if node1 is before node2, and a positive number if\n * node2 is before node1.  Note that we compare the order the tags appear in the\n * document so in the tree <b><i>text</i></b> the B node is considered to be\n * before the I node.\n *\n * @param {Node} node1 The first node to compare.\n * @param {Node} node2 The second node to compare.\n * @return {number} 0 if the nodes are the same node, a negative number if node1\n *     is before node2, and a positive number if node2 is before node1.\n */\ngoog.dom.DomHelper.prototype.compareNodeOrder = goog.dom.compareNodeOrder;\n\n\n/**\n * Find the deepest common ancestor of the given nodes.\n * @param {...Node} var_args The nodes to find a common ancestor of.\n * @return {Node} The common ancestor of the nodes, or null if there is none.\n *     null will only be returned if two or more of the nodes are from different\n *     documents.\n */\ngoog.dom.DomHelper.prototype.findCommonAncestor = goog.dom.findCommonAncestor;\n\n\n/**\n * Returns the owner document for a node.\n * @param {Node} node The node to get the document for.\n * @return {!Document} The document owning the node.\n */\ngoog.dom.DomHelper.prototype.getOwnerDocument = goog.dom.getOwnerDocument;\n\n\n/**\n * Cross browser function for getting the document element of an iframe.\n * @param {Element} iframe Iframe element.\n * @return {!Document} The frame content document.\n */\ngoog.dom.DomHelper.prototype.getFrameContentDocument =\n    goog.dom.getFrameContentDocument;\n\n\n/**\n * Cross browser function for getting the window of a frame or iframe.\n * @param {Element} frame Frame element.\n * @return {Window} The window associated with the given frame.\n */\ngoog.dom.DomHelper.prototype.getFrameContentWindow =\n    goog.dom.getFrameContentWindow;\n\n\n/**\n * Sets the text content of a node, with cross-browser support.\n * @param {Node} node The node to change the text content of.\n * @param {string|number} text The value that should replace the node's content.\n */\ngoog.dom.DomHelper.prototype.setTextContent = goog.dom.setTextContent;\n\n\n/**\n * Gets the outerHTML of a node, which islike innerHTML, except that it\n * actually contains the HTML of the node itself.\n * @param {Element} element The element to get the HTML of.\n * @return {string} The outerHTML of the given element.\n */\ngoog.dom.DomHelper.prototype.getOuterHtml = goog.dom.getOuterHtml;\n\n\n/**\n * Finds the first descendant node that matches the filter function. This does\n * a depth first search.\n * @param {Node} root The root of the tree to search.\n * @param {function(Node) : boolean} p The filter function.\n * @return {Node|undefined} The found node or undefined if none is found.\n */\ngoog.dom.DomHelper.prototype.findNode = goog.dom.findNode;\n\n\n/**\n * Finds all the descendant nodes that matches the filter function. This does a\n * depth first search.\n * @param {Node} root The root of the tree to search.\n * @param {function(Node) : boolean} p The filter function.\n * @return {Array<Node>} The found nodes or an empty array if none are found.\n */\ngoog.dom.DomHelper.prototype.findNodes = goog.dom.findNodes;\n\n\n/**\n * Returns true if the element has a tab index that allows it to receive\n * keyboard focus (tabIndex >= 0), false otherwise.  Note that some elements\n * natively support keyboard focus, even if they have no tab index.\n * @param {!Element} element Element to check.\n * @return {boolean} Whether the element has a tab index that allows keyboard\n *     focus.\n */\ngoog.dom.DomHelper.prototype.isFocusableTabIndex = goog.dom.isFocusableTabIndex;\n\n\n/**\n * Enables or disables keyboard focus support on the element via its tab index.\n * Only elements for which {@link goog.dom.isFocusableTabIndex} returns true\n * (or elements that natively support keyboard focus, like form elements) can\n * receive keyboard focus.  See http://go/tabindex for more info.\n * @param {Element} element Element whose tab index is to be changed.\n * @param {boolean} enable Whether to set or remove a tab index on the element\n *     that supports keyboard focus.\n */\ngoog.dom.DomHelper.prototype.setFocusableTabIndex =\n    goog.dom.setFocusableTabIndex;\n\n\n/**\n * Returns true if the element can be focused, i.e. it has a tab index that\n * allows it to receive keyboard focus (tabIndex >= 0), or it is an element\n * that natively supports keyboard focus.\n * @param {!Element} element Element to check.\n * @return {boolean} Whether the element allows keyboard focus.\n */\ngoog.dom.DomHelper.prototype.isFocusable = goog.dom.isFocusable;\n\n\n/**\n * Returns the text contents of the current node, without markup. New lines are\n * stripped and whitespace is collapsed, such that each character would be\n * visible.\n *\n * In browsers that support it, innerText is used.  Other browsers attempt to\n * simulate it via node traversal.  Line breaks are canonicalized in IE.\n *\n * @param {Node} node The node from which we are getting content.\n * @return {string} The text content.\n */\ngoog.dom.DomHelper.prototype.getTextContent = goog.dom.getTextContent;\n\n\n/**\n * Returns the text length of the text contained in a node, without markup. This\n * is equivalent to the selection length if the node was selected, or the number\n * of cursor movements to traverse the node. Images & BRs take one space.  New\n * lines are ignored.\n *\n * @param {Node} node The node whose text content length is being calculated.\n * @return {number} The length of `node`'s text content.\n */\ngoog.dom.DomHelper.prototype.getNodeTextLength = goog.dom.getNodeTextLength;\n\n\n/**\n * Returns the text offset of a node relative to one of its ancestors. The text\n * length is the same as the length calculated by\n * `goog.dom.getNodeTextLength`.\n *\n * @param {Node} node The node whose offset is being calculated.\n * @param {Node=} opt_offsetParent Defaults to the node's owner document's body.\n * @return {number} The text offset.\n */\ngoog.dom.DomHelper.prototype.getNodeTextOffset = goog.dom.getNodeTextOffset;\n\n\n/**\n * Returns the node at a given offset in a parent node.  If an object is\n * provided for the optional third parameter, the node and the remainder of the\n * offset will stored as properties of this object.\n * @param {Node} parent The parent node.\n * @param {number} offset The offset into the parent node.\n * @param {Object=} opt_result Object to be used to store the return value. The\n *     return value will be stored in the form {node: Node, remainder: number}\n *     if this object is provided.\n * @return {Node} The node at the given offset.\n */\ngoog.dom.DomHelper.prototype.getNodeAtOffset = goog.dom.getNodeAtOffset;\n\n\n/**\n * Returns true if the object is a `NodeList`.  To qualify as a NodeList,\n * the object must have a numeric length property and an item function (which\n * has type 'string' on IE for some reason).\n * @param {Object} val Object to test.\n * @return {boolean} Whether the object is a NodeList.\n */\ngoog.dom.DomHelper.prototype.isNodeList = goog.dom.isNodeList;\n\n\n/**\n * Walks up the DOM hierarchy returning the first ancestor that has the passed\n * tag name and/or class name. If the passed element matches the specified\n * criteria, the element itself is returned.\n * @param {Node} element The DOM node to start with.\n * @param {?(goog.dom.TagName<T>|string)=} opt_tag The tag name to match (or\n *     null/undefined to match only based on class name).\n * @param {?string=} opt_class The class name to match (or null/undefined to\n *     match only based on tag name).\n * @param {number=} opt_maxSearchSteps Maximum number of levels to search up the\n *     dom.\n * @return {?R} The first ancestor that matches the passed criteria, or\n *     null if no match is found. The return type is {?Element} if opt_tag is\n *     not a member of goog.dom.TagName or a more specific type if it is (e.g.\n *     {?HTMLAnchorElement} for goog.dom.TagName.A).\n * @template T\n * @template R := cond(isUnknown(T), 'Element', T) =:\n */\ngoog.dom.DomHelper.prototype.getAncestorByTagNameAndClass =\n    goog.dom.getAncestorByTagNameAndClass;\n\n\n/**\n * Walks up the DOM hierarchy returning the first ancestor that has the passed\n * class name. If the passed element matches the specified criteria, the\n * element itself is returned.\n * @param {Node} element The DOM node to start with.\n * @param {string} class The class name to match.\n * @param {number=} opt_maxSearchSteps Maximum number of levels to search up the\n *     dom.\n * @return {Element} The first ancestor that matches the passed criteria, or\n *     null if none match.\n */\ngoog.dom.DomHelper.prototype.getAncestorByClass = goog.dom.getAncestorByClass;\n\n\n/**\n * Walks up the DOM hierarchy returning the first ancestor that passes the\n * matcher function.\n * @param {Node} element The DOM node to start with.\n * @param {function(Node) : boolean} matcher A function that returns true if the\n *     passed node matches the desired criteria.\n * @param {boolean=} opt_includeNode If true, the node itself is included in\n *     the search (the first call to the matcher will pass startElement as\n *     the node to test).\n * @param {number=} opt_maxSearchSteps Maximum number of levels to search up the\n *     dom.\n * @return {Node} DOM node that matched the matcher, or null if there was\n *     no match.\n */\ngoog.dom.DomHelper.prototype.getAncestor = goog.dom.getAncestor;\n\n\n/**\n * Gets '2d' context of a canvas. Shortcut for canvas.getContext('2d') with a\n * type information.\n * @param {!HTMLCanvasElement} canvas\n * @return {!CanvasRenderingContext2D}\n */\ngoog.dom.DomHelper.prototype.getCanvasContext2D = goog.dom.getCanvasContext2D;\n"],
"names":["goog","provide","require","define","dom","COMPAT_MODE_KNOWN_","ASSUME_QUIRKS_MODE","ASSUME_STANDARDS_MODE","getDomHelper","goog.dom.getDomHelper","opt_element","DomHelper","getOwnerDocument","defaultDomHelper_","getDocument","goog.dom.getDocument","document","getElement","goog.dom.getElement","element","getElementHelper_","goog.dom.getElementHelper_","doc","isString","getElementById","getRequiredElement","goog.dom.getRequiredElement","id","getRequiredElementHelper_","goog.dom.getRequiredElementHelper_","asserts","assertString","assertElement","$","getElementsByTagName","goog.dom.getElementsByTagName","tagName","opt_parent","parent","String","getElementsByTagNameAndClass","goog.dom.getElementsByTagNameAndClass","opt_tag","opt_class","opt_el","getElementsByTagNameAndClass_","getElementByTagNameAndClass","goog.dom.getElementByTagNameAndClass","getElementByTagNameAndClass_","getElementsByClass","goog.dom.getElementsByClass","className","canUseQuerySelector_","querySelectorAll","getElementByClass","goog.dom.getElementByClass","retVal","getElementsByClassName","getRequiredElementByClass","goog.dom.getRequiredElementByClass","opt_root","retValue","assert","goog.dom.canUseQuerySelector_","querySelector","goog.dom.getElementsByTagNameAndClass_","toUpperCase","query","els","arrayLike","len","i","el","nodeName","length","split","array","contains","goog.dom.getElementByTagNameAndClass_","tag","elements","$$","setProperties","goog.dom.setProperties","properties","object","forEach","val","key","implementsGoogStringTypedString","getTypedStringValue","style","cssText","htmlFor","DIRECT_ATTRIBUTE_MAP_","hasOwnProperty","setAttribute","string","startsWith","getViewportSize","goog.dom.getViewportSize","opt_window","getViewportSize_","window","goog.dom.getViewportSize_","win","isCss1CompatMode_","documentElement","body","math","Size","clientWidth","clientHeight","getDocumentHeight","goog.dom.getDocumentHeight","getDocumentHeight_","getDocumentHeightForWindow","goog.dom.getDocumentHeightForWindow","goog.dom.getDocumentHeight_","height","docEl","vh","scrollHeight","offsetHeight","sh","oh","getPageScroll","goog.dom.getPageScroll","global","getDocumentScroll","goog.dom.getDocumentScroll","getDocumentScroll_","goog.dom.getDocumentScroll_","getDocumentScrollElement_","getWindow_","userAgent","IE","isVersionOrHigher","pageYOffset","scrollTop","Coordinate","scrollLeft","pageXOffset","getDocumentScrollElement","goog.dom.getDocumentScrollElement","goog.dom.getDocumentScrollElement_","scrollingElement","WEBKIT","getWindow","goog.dom.getWindow","opt_doc","goog.dom.getWindow_","parentWindow","defaultView","createDom","goog.dom.createDom","opt_attributes","var_args","createDom_","arguments","goog.dom.createDom_","args","attributes","BrowserFeature","CAN_ADD_NAME_OR_TYPE_ATTRIBUTES","name","type","tagNameArr","push","htmlEscape","clone","extend","join","createElement","isArray","append_","goog.dom.append_","startIndex","childHandler","child","appendChild","createTextNode","arg","isArrayLike","isNodeLike","isNodeList","toArray","$dom","goog.dom.createElement","createElement_","goog.dom.createElement_","goog.dom.createTextNode","content","createTable","goog.dom.createTable","rows","columns","opt_fillWithNbsp","createTable_","goog.dom.createTable_","fillWithNbsp","table","TagName","TABLE","tbody","TBODY","tr","TR","j","td","TD","setTextContent","Unicode","NBSP","constHtmlToNode","goog.dom.constHtmlToNode","stringArray","map","Const","unwrap","safeHtml","html","uncheckedconversions","safeHtmlFromStringKnownToSatisfyTypeContract","from","safeHtmlToNode","goog.dom.safeHtmlToNode","safeHtmlToNode_","goog.dom.safeHtmlToNode_","tempDiv","DIV","INNER_HTML_NEEDS_SCOPED_ELEMENT","safe","setInnerHtml","SafeHtml","concat","BR","removeChild","firstChild","childrenToNode_","goog.dom.childrenToNode_","childNodes","fragment","createDocumentFragment","isCss1CompatMode","goog.dom.isCss1CompatMode","goog.dom.isCss1CompatMode_","compatMode","canHaveChildren","goog.dom.canHaveChildren","node","nodeType","NodeType","ELEMENT","APPLET","AREA","BASE","COL","COMMAND","EMBED","FRAME","HR","IMG","INPUT","IFRAME","ISINDEX","KEYGEN","LINK","NOFRAMES","NOSCRIPT","META","OBJECT","PARAM","SCRIPT","SOURCE","STYLE","TRACK","WBR","goog.dom.appendChild","append","goog.dom.append","removeChildren","goog.dom.removeChildren","insertSiblingBefore","goog.dom.insertSiblingBefore","newNode","refNode","parentNode","insertBefore","insertSiblingAfter","goog.dom.insertSiblingAfter","nextSibling","insertChildAt","goog.dom.insertChildAt","index","removeNode","goog.dom.removeNode","replaceNode","goog.dom.replaceNode","oldNode","replaceChild","flattenElement","goog.dom.flattenElement","DOCUMENT_FRAGMENT","getChildren","goog.dom.getChildren","CAN_USE_CHILDREN_ATTRIBUTE","children","undefined","filter","getFirstElementChild","goog.dom.getFirstElementChild","isDef","firstElementChild","getNextElementNode_","getLastElementChild","goog.dom.getLastElementChild","lastElementChild","lastChild","getNextElementSibling","goog.dom.getNextElementSibling","nextElementSibling","getPreviousElementSibling","goog.dom.getPreviousElementSibling","previousElementSibling","previousSibling","goog.dom.getNextElementNode_","forward","getNextNode","goog.dom.getNextNode","getPreviousNode","goog.dom.getPreviousNode","goog.dom.isNodeLike","obj","isObject","isElement","goog.dom.isElement","isWindow","goog.dom.isWindow","getParentElement","goog.dom.getParentElement","CAN_USE_PARENT_ELEMENT_PROPERTY","isIe9","parentElement","goog.dom.contains","descendant","compareDocumentPosition","Boolean","compareNodeOrder","goog.dom.compareNodeOrder","node1","node2","isDocumentModeOrHigher","DOCUMENT","isElement1","isElement2","sourceIndex","parent1","parent2","compareSiblingOrder_","compareParentsDescendantNodeIe_","range1","range2","createRange","selectNode","collapse","compareBoundaryPoints","START_TO_END","goog.dom.compareParentsDescendantNodeIe_","textNode","sibling","goog.dom.compareSiblingOrder_","s","findCommonAncestor","goog.dom.findCommonAncestor","count","paths","minLength","Infinity","ancestors","unshift","Math","min","output","first","goog.dom.getOwnerDocument","ownerDocument","getFrameContentDocument","goog.dom.getFrameContentDocument","frame","contentDocument","contentWindow","getFrameContentWindow","goog.dom.getFrameContentWindow","e","goog.dom.setTextContent","text","textContent","TEXT","data","getOuterHtml","goog.dom.getOuterHtml","outerHTML","div","cloneNode","innerHTML","findNode","goog.dom.findNode","root","p","rv","found","findNodes_","findNodes","goog.dom.findNodes","goog.dom.findNodes_","findOne","TAGS_TO_IGNORE_","PREDEFINED_TAG_VALUES_","isFocusableTabIndex","goog.dom.isFocusableTabIndex","hasSpecifiedTabIndex_","isTabIndexFocusable_","setFocusableTabIndex","goog.dom.setFocusableTabIndex","enable","tabIndex","removeAttribute","isFocusable","goog.dom.isFocusable","focusable","nativelySupportsFocus_","disabled","hasNonZeroBoundingRect_","goog.dom.hasSpecifiedTabIndex_","attrNode","getAttributeNode","isDefAndNotNull","specified","hasAttribute","goog.dom.isTabIndexFocusable_","isNumber","goog.dom.nativelySupportsFocus_","A","TEXTAREA","SELECT","BUTTON","goog.dom.hasNonZeroBoundingRect_","rect","isFunction","offsetWidth","getBoundingClientRect","width","getTextContent","goog.dom.getTextContent","CAN_USE_INNER_TEXT","canonicalizeNewlines","innerText","buf","getTextContent_","replace","getRawTextContent","goog.dom.getRawTextContent","goog.dom.getTextContent_","normalizeWhitespace","nodeValue","getNodeTextLength","goog.dom.getNodeTextLength","getNodeTextOffset","goog.dom.getNodeTextOffset","opt_offsetParent","cur","trimLeft","getNodeAtOffset","goog.dom.getNodeAtOffset","offset","opt_result","stack","pos","pop","remainder","goog.dom.isNodeList","item","getAncestorByTagNameAndClass","goog.dom.getAncestorByTagNameAndClass","opt_maxSearchSteps","getAncestor","getAncestorByClass","goog.dom.getAncestorByClass","goog.dom.getAncestor","matcher","opt_includeNode","steps","getActiveElement","goog.dom.getActiveElement","activeElement","getPixelRatio","goog.dom.getPixelRatio","devicePixelRatio","matchMedia","matchesPixelRatio_","goog.dom.matchesPixelRatio_","pixelRatio","dpiPerDppx","matches","getCanvasContext2D","goog.dom.getCanvasContext2D","canvas","getContext","goog.dom.DomHelper","opt_document","document_","prototype","setDocument","goog.dom.DomHelper.prototype.setDocument","goog.dom.DomHelper.prototype.getDocument","goog.dom.DomHelper.prototype.getElement","goog.dom.DomHelper.prototype.getRequiredElement","goog.dom.DomHelper.prototype.getElementsByTagName","goog.dom.DomHelper.prototype.getElementsByTagNameAndClass","goog.dom.DomHelper.prototype.getElementByTagNameAndClass","goog.dom.DomHelper.prototype.getElementsByClass","goog.dom.DomHelper.prototype.getElementByClass","goog.dom.DomHelper.prototype.getRequiredElementByClass","goog.dom.DomHelper.prototype.getViewportSize","goog.dom.DomHelper.prototype.getDocumentHeight","Appendable","goog.dom.DomHelper.prototype.createDom","goog.dom.DomHelper.prototype.createElement","goog.dom.DomHelper.prototype.createTextNode","goog.dom.DomHelper.prototype.createTable","goog.dom.DomHelper.prototype.safeHtmlToNode","goog.dom.DomHelper.prototype.isCss1CompatMode","goog.dom.DomHelper.prototype.getWindow","goog.dom.DomHelper.prototype.getDocumentScrollElement","goog.dom.DomHelper.prototype.getDocumentScroll","goog.dom.DomHelper.prototype.getActiveElement"]
}
