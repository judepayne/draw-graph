{"version":3,"sources":["markdown/transformers.cljc"],"mappings":"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","names":["markdown.transformers/heading?","text","type","cljs.core/every?","cljs.core.take","trimmed","clojure.string/trim","and__4174__auto__","cljs.core/not-empty","markdown.transformers/h1?","markdown.transformers/h2?","p__41049","map__41050","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","cljs.core.get","markdown.transformers/empty-line","code","codeblock","state","or__4185__auto__","clojure.string/blank?","cljs.core.dissoc","markdown.transformers/superscript","tokens","cljs.core.partition_by","cljs.core.partial","cljs.core/contains?","buf","remaining","cljs.core/empty?","clojure.string.join","cljs.core._EQ_","cljs.core/first","cljs.core.into","cljs.core.concat","cljs.core/seq","cljs.core/second","cljs.core.drop","cljs.core/rest","p__41060","map__41066","markdown.transformers/heading","next-line","heading-anchors","cljs.core.assoc","temp__5733__auto__","heading","markdown.common/make-heading","p__41072","map__41073","markdown.transformers/br","lists","cljs.core/take-last","cljs.core/not","cljs.core/str","cljs.core.drop_last","p__41076","map__41077","markdown.transformers/autourl-transformer","frozen-strings","currently-frozen","cljs.core/volatile!","p1__41075#","clojure.string/replace","vec__41079","cljs.core.nth","url","cljs.core/deref","markdown.common.freeze_string","cljs.core.subs","cljs.core/count","cljs.core/vreset!","cljs.core.merge","markdown.transformers/autoemail-transformer","p1__41082#","encoded","cljs.core.map","c","cljs.core.rand","markdown.transformers/*formatter*","p__41085","map__41086","markdown.transformers/set-line-state","inline-heading","cljs.core/assoc-in","markdown.transformers/clear-line-state","markdown.transformers/paragraph-text","last-line-empty?","p__41091","map__41092","markdown.transformers/open-paragraph","eof","temp","hr","blockquote","paragraph","p__41094","map__41095","markdown.transformers/close-paragraph","G__41097","markdown.transformers/paragraph","p__41099","map__41100","markdown.transformers/code","cljs.core.not_EQ_","markdown.common/escape-code","clojure.string/replace-first","num-spaces","cljs.core.take_while","cljs.core/=","p__41102","map__41103","markdown.transformers/codeblock","codeblock-end","indented-code","next-line-closes?","G__41105","clojure.string.split","vec__41106","lang","cljs.core/split-with","cljs.core/not=","s","formatter","G__41112","markdown.transformers/hr","cljs.core.drop_while","cljs.core.remove","p__41116","map__41117","markdown.transformers/blockquote-1","p__41121","map__41122","markdown.transformers/blockquote-2","blockquote-start","blockquote-end","blockquote-paragraph","not-in-list","markdown.transformers/footer","footnotes","cljs.core/sorted-map","cljs.core.reduce","p__41125","vec__41126","id","label","cljs.core.interpose","p1__41124#","markdown.transformers/parse-metadata-line","line","vec__41129","vec__41132","_","key","val","cljs.core/re-matches","next-val","cljs.core.keyword","clojure.string/lower-case","markdown.transformers/flatten-metadata","metadata","acc","remain","prev-key","vec__41138","data","cljs.core/sequential?","prev-val","postfix","norm-val","new-val","cljs.core.conj","js/Error","markdown.transformers/parse-metadata-headers","lines-seq","cljs.core/string?","parsed","cljs.core/reduced","markdown.transformers/transformer-vector","markdown.common/inhibit","markdown.common/escape-inhibit-separator","markdown.common/escaped-chars","markdown.common/inline-code","markdown.links/image","markdown.links/image-reference-link","markdown.links/link","markdown.links/implicit-reference-link","markdown.links/reference-link","markdown.links/footnote-link","markdown.lists/li","markdown.common/italics","markdown.common/bold-italic","markdown.common/em","markdown.common/strong","markdown.common/bold","markdown.common/strikethrough","markdown.tables/table","markdown.common/thaw-strings","markdown.common/dashes"],"sourcesContent":["(ns markdown.transformers\n  (:require [clojure.string :as string]\n            [markdown.links\n             :refer [link\n                     image\n                     reference-link\n                     image-reference-link\n                     implicit-reference-link\n                     footnote-link]]\n            [markdown.lists :refer [li]]\n            [markdown.tables :refer [table]]\n            [markdown.common\n             :refer\n             [escape-code\n              escaped-chars\n              freeze-string\n              separator\n              thaw-strings\n              strong\n              bold\n              bold-italic\n              em\n              italics\n              strikethrough\n              inline-code\n              escape-inhibit-separator\n              inhibit\n              make-heading\n              dashes]]))\n\n(declare ^:dynamic *formatter*)\n\n(defn heading? [text type]\n  (when-not (every? #{\\space} (take 4 text))\n    (let [trimmed (if text (string/trim text))]\n      (and (not-empty trimmed) (every? #{type} trimmed)))))\n\n(defn h1? [text]\n  (heading? text \\=))\n\n(defn h2? [text]\n  (heading? text \\-))\n\n(defn empty-line [text {:keys [code codeblock] :as state}]\n  (if (or code codeblock)\n    [text state]\n    [(if (or (h1? text) (h2? text)) \"\" text)\n     (if (string/blank? text) (dissoc state :hr :heading) state)]))\n\n(defn superscript [text state]\n  (if (:code state)\n    [text state]\n    (let [tokens (partition-by (partial contains? #{\\^ \\space}) text)]\n      (loop [buf       []\n             remaining tokens]\n        (cond\n          (empty? remaining)\n          [(string/join buf) state]\n\n          (= (first remaining) [\\^])\n          (recur (into buf (concat (seq \"<sup>\") (second remaining) (seq \"</sup>\")))\n                 (drop 2 remaining))\n\n          :default\n          (recur (into buf (first remaining)) (rest remaining)))))))\n\n(defn heading [text {:keys [buf next-line code codeblock heading-anchors] :as state}]\n  (cond\n    (or codeblock code)\n    [text state]\n\n    (h1? (or buf next-line))\n    [(str \"<h1>\" text \"</h1>\") (assoc state :heading true)]\n\n    (h2? (or buf next-line))\n    [(str \"<h2>\" text \"</h2>\") (assoc state :heading true)]\n\n    :else\n    (if-let [heading (make-heading text heading-anchors)]\n      [heading (assoc state :inline-heading true)]\n      [text state])))\n\n(defn br [text {:keys [code lists] :as state}]\n  [(if (and (= [\\space \\space] (take-last 2 text))\n            (not (or code lists)))\n     (str (apply str (drop-last 2 text)) \"<br />\")\n     text)\n   state])\n\n(defn autourl-transformer [text {:keys [code frozen-strings] :as state}]\n  (if code\n    [text state]\n    (let [currently-frozen (volatile! {:frozen-strings frozen-strings})]\n      [(string/replace\n         text\n         #\"<https?://[-A-Za-z0-9+&@#/%?=~_()|!:,.;]*[-A-Za-z0-9+&@#/%=~_()|]>\"\n         #(let [[url frozen-strings] (freeze-string (subs % 1 (dec (count %))) @currently-frozen)]\n            (vreset! currently-frozen frozen-strings)\n            (str \"<a href=\\\"\" url \"\\\">\" url \"</a>\")))\n       (merge state @currently-frozen)])))\n\n(defn autoemail-transformer [text state]\n  [(if (or (:code state) (:codeblock state))\n     text\n     (string/replace\n       text\n       #\"<[\\w._%+-]+@[\\w.-]+\\.[\\w]{2,4}>\"\n       #(let [encoded (if (:clojurescript state)\n                        (subs % 1 (dec (count %)))\n                        (->> (subs % 1 (dec (count %)))\n                             (map (fn [c] (if (> (rand) 0.5) (*formatter* \"&#x%02x;\" (int c)) c)))\n                             (apply str)))]\n          (str \"<a href=\\\"mailto:\" encoded \"\\\">\" encoded \"</a>\"))))\n   state])\n\n(defn set-line-state [text {:keys [inline-heading] :as state}]\n  [text\n   (-> state\n       (dissoc :inline-heading)\n       (assoc-in [:temp :inline-heading] inline-heading))])\n\n(defn clear-line-state [text state]\n  [text (dissoc state :temp)])\n\n(defn paragraph-text [last-line-empty? text]\n  (if (and (not last-line-empty?) (not-empty text))\n    (str \" \" text)\n    text))\n\n(defn open-paragraph\n  [text {:keys [eof heading inline-heading temp hr code lists blockquote paragraph last-line-empty?] :as state}]\n  (cond\n    (and paragraph lists)\n    [(str \"</p>\" text) (dissoc state :paragraph)]\n\n    (or heading inline-heading hr code lists blockquote)\n    [text state]\n\n    paragraph\n    (if (or eof (empty? (string/trim text)))\n      [(str (paragraph-text last-line-empty? text) \"</p>\") (dissoc state :paragraph)]\n      [(paragraph-text last-line-empty? text) state])\n\n    (and (not eof) (not (string/blank? text)) (or (:inline-heading temp) last-line-empty?))\n    [(str \"<p>\" text) (assoc state :paragraph true :last-line-empty? false)]\n\n    :default\n    [text state]))\n\n(defn close-paragraph [text {:keys [next-line paragraph] :as state}]\n  (if (and paragraph (= [\\` \\` \\`] (take-last 3 (some-> next-line string/trim))))\n    [(str text \"</p>\") (dissoc state :paragraph)]\n    [text state]))\n\n(defn paragraph [text state]\n  (apply close-paragraph (open-paragraph text state)))\n\n(defn code [text {:keys [eof lists code codeblock] :as state}]\n  (cond\n    (or lists codeblock)\n    [text state]\n\n    code\n    (if (or eof (not= \"    \" (string/join (take 4 text))))\n      [(str \"</code></pre>\" text) (dissoc state :indented-code :code :last-line-empty?)]\n      [(str \"\\n\" (escape-code (string/replace-first text #\"    \" \"\"))) state])\n\n    (empty? (string/trim text))\n    [text state]\n\n    :default\n    (let [num-spaces (count (take-while (partial = \\space) text))]\n      (if (> num-spaces 3)\n        [(str \"<pre><code>\" (escape-code (string/replace-first text #\"    \" \"\")))\n         (assoc state :code true :indented-code true)]\n        [text state]))))\n\n(defn codeblock [text {:keys [codeblock codeblock-end indented-code next-line lists] :as state}]\n  (let [trimmed (string/trim text)\n        next-line-closes? (= [\\` \\` \\`] (take-last 3 (some-> next-line string/trim)))]\n    (cond\n      (and lists codeblock-end)\n      [\"\" (dissoc state :code :codeblock :codeblock-end)]\n\n      codeblock-end\n      [text (-> state\n                (assoc :last-line-empty? true)\n                (dissoc :code :codeblock :codeblock-end))]\n\n      (and next-line-closes? codeblock)\n      [(str (escape-code (str text \"\\n\" (apply str (first (string/split next-line #\"```\"))))) \"</code></pre>\")\n       (assoc state :skip-next-line? (not lists)\n                    :codeblock-end true\n                    :last-line-empty? (not lists))]\n\n      (and\n        (not indented-code)\n        (= [\\` \\` \\`] (take 3 trimmed)))\n      (let [[lang code] (split-with (partial not= \\space) (drop 3 trimmed))\n            s         (apply str (rest code))\n            formatter (:code-style state)]\n        [(str \"<pre><code\" (if (not-empty lang)\n                             (str \" \"\n                                  (if formatter\n                                    (formatter (string/join lang))\n                                    (str \"class=\\\"\" (string/join lang) \"\\\"\")))) \">\"\n              (escape-code (if (empty? s) s (str s \"\\n\")))\n              (when next-line-closes? \"</code></pre>\"))\n         (if next-line-closes?\n           (assoc state :codeblock-end true :skip-next-line? true)\n           (assoc state :code true :codeblock true))])\n\n      codeblock\n      [(str (escape-code text) \"\\n\") state]\n\n      :default\n      [text state])))\n\n(defn hr [text state]\n  (if (:code state)\n    [text state]\n    (if (and\n          (or (empty? (drop-while #{\\* \\space} text))\n              (empty? (drop-while #{\\- \\space} text))\n              (empty? (drop-while #{\\_ \\space} text)))\n          (> (count (remove #{\\space} text)) 2))\n      [(str \"<hr/>\") (assoc state :hr true)]\n      [text state])))\n\n(defn blockquote-1\n  \"Check for blockquotes and signal to blockquote-2 function with\n  states blockquote-start and blockquote-end so that tags can be added.\n  This approach enables lists to be included in blockquotes.\"\n  [text {:keys [eof code codeblock lists] :as state}]\n  (let [trimmed (string/trim text)]\n    (cond\n      (or code codeblock)\n      [text state]\n\n      (:blockquote state)\n      (cond (or eof (empty? trimmed))\n            [text (assoc state :blockquote-end true :blockquote false)]\n\n            (= \">\" trimmed)\n            [(str (when (:blockquote-paragraph state) \"</p>\") \"<p>\") (assoc state :blockquote-paragraph true)]\n\n            (and (>= (count trimmed) 2) (= \">-\" (subs trimmed 0 2)))\n            [(str (when (:blockquote-paragraph state) \"</p>\") \"<footer>\" (subs text 2) \"</footer>\") (assoc state :blockquote-paragraph false)]\n\n            (= \">\" (subs trimmed 0 1))\n            [(str (when-not (:blockquote-paragraph state) \"<p>\") (subs text 1) \" \") (assoc state :blockquote-paragraph true)]\n\n            :default\n            [(str (when-not (:blockquote-paragraph state) \"<p>\") text \" \") (assoc state :blockquote-paragraph true)])\n\n      :default\n      (if (= \\> (first text))\n        [(str (string/join (rest text)) \" \")\n         (assoc state :blockquote-start true :blockquote true :blockquote-paragraph true)]\n        [text state]))))\n\n(defn blockquote-2\n  \"Check for change in blockquote states and add start or end tags.\n  Closing a blockquote with a list in it is a bit more complex,\n  as the list is not closed until the following blank line.\"\n  [text {:keys [blockquote-start blockquote-end blockquote-paragraph lists] :as state}]\n  (let [not-in-list (or (not lists) (empty? lists))]\n    (cond blockquote-start\n          [(str \"<blockquote><p>\" text)\n           (dissoc state :blockquote-start)]\n\n          (and blockquote-end not-in-list)\n          [(str text (when blockquote-paragraph \"</p>\") \"</blockquote>\")\n           (dissoc state :blockquote :blockquote-paragraph :blockquote-end )]\n\n          :default\n          [text state])))\n\n(defn footer [footnotes]\n  (if (empty? (:processed footnotes))\n    \"\"\n    (->> (:processed footnotes)\n         (into (sorted-map))\n         (reduce\n           (fn [footnotes [id label]]\n             (str footnotes\n                  \"<li id='fn-\" id \"'>\"\n                  (apply str (interpose \" \" label))\n                  \"<a href='#fnref\" id \"'>&#8617;</a></li>\"))\n           \"\")\n         (#(str \"<ol class='footnotes'>\" % \"</ol>\")))))\n\n(defn parse-metadata-line\n  \"Given a line of metadata header text return either a list containing a parsed\n  and normalizd key and the original text of the value, or if no header is found\n  (this is a continuation or new value from a pervious header key) simply\n  return the text. If a blank or invalid line is found return nil.\"\n  [line]\n  (when line\n    (let [[_ key val] (re-matches #\"^([0-9A-Za-z_-]*):(.*)$\" line)\n          [_ next-val] (re-matches #\"^    (.*)$\" line)]\n      (when (not= (string/trim line) \"\")\n        (cond\n          key [(keyword (string/lower-case key)) val]\n          next-val line)))))\n\n(defn flatten-metadata\n  \"Given a list of maps which contain a single key/value, flatten them all into\n  a single map with all the leading spaces removed. If an empty list is provided\n  then return nil.\"\n  [metadata]\n  (when (pos? (count metadata))\n    (loop [acc      {}\n           remain   metadata\n           prev-key nil]\n      (if (not (empty? remain))\n        (let [data     (first remain)\n              [key val] (if (sequential? data) data [prev-key data])\n              prev-val (get acc key [])\n              postfix  (if (= [\\space \\space] (take-last 2 val)) \"\\n\" \"\")\n              norm-val (str (string/trim val) postfix)\n              new-val  (if-not (empty? norm-val)\n                         (conj prev-val norm-val)\n                         prev-val)]\n          (recur (merge acc {key new-val}) (rest remain) key))\n        acc))))\n\n(defn parse-metadata-headers\n  \"Given a sequence of lines from a markdown document, attempt to parse a\n  metadata header if it exists.\"\n  [lines-seq]\n  {:pre [(sequential? lines-seq)\n         (every? string? lines-seq)]}\n  (reduce\n    (fn [acc line]\n      (if-let [parsed (parse-metadata-line line)]\n        (conj acc parsed)\n        (reduced (flatten-metadata acc))))\n    [] lines-seq))\n\n(def transformer-vector\n  [set-line-state\n   empty-line\n   inhibit\n   escape-inhibit-separator\n   code\n   codeblock\n   escaped-chars\n   inline-code\n   autoemail-transformer\n   autourl-transformer\n   image\n   image-reference-link\n   link\n   implicit-reference-link\n   reference-link\n   footnote-link\n   hr\n   blockquote-1\n   li\n   heading\n   blockquote-2\n   italics\n   bold-italic\n   em\n   strong\n   bold\n   strikethrough\n   superscript\n   table\n   paragraph\n   br\n   thaw-strings\n   dashes\n   clear-line-state])\n"]}