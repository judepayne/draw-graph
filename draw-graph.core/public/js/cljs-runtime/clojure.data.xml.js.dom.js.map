{"version":3,"sources":["clojure/data/xml/js/dom.cljs"],"mappings":"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","names":["clojure.data.xml.js.dom/doc","js/DOMParser","clojure.data.xml.js.dom/text-node","s","var_args","G__55067","clojure.data.xml.js.dom/element*","js/Error","tag","attrs","content","meta","el","clojure.data.xml.js.dom.element_STAR_","x55072","cljs.core/PROTOCOL_SENTINEL","_","x55073","cljs.core/clone","cljs.core/-with-meta","clojure.data.xml.name/qname-uri","clojure.data.xml.name/qname-local","cljs.core/reduce-kv","k","v","uri","cljs.core._EQ_","cljs.core.reduce","n","G__55081","clojure.data.xml.js.dom/element","args-arr__4810__auto__","len__4789__auto__","i__4790__auto__","argseq__4811__auto__","cljs.core/IndexedSeq","seq55078","G__55079","cljs.core/first","cljs.core/next","G__55080","self__4776__auto__","clojure.data.xml.js.dom/cdata","clojure.data.xml.js.dom/xml-comment","clojure.data.xml.js.dom/node-list","elements","f","seq__55090","cljs.core/seq","chunk__55091","count__55092","i__55093","temp__5735__auto__","cljs.core/chunked-seq?","c__4609__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","clojure.data.xml.js.dom/element-node","clojure.data.xml.js.dom/Text","cljs.core/type","clojure.data.xml.js.dom/Element","clojure.data.xml.js.dom.element","clojure.data.xml.js.dom/NamedNodeMap","clojure.data.xml.js.dom/NodeList","clojure.data.xml.js.dom/Attr","clojure.data.xml.js.dom/CData","clojure.data.xml.js.dom/Comment","clojure.data.xml.node/CData","clojure.data.xml.node/Comment","cljs.core/native-satisfies?","cljs.core/ILookup","cljs.core.map","cljs.core/ISequential","cljs.core.ex_info","clojure.data.xml.js.dom/dom-element-tag","clojure.data.xml.name.qname","clojure.data.xml.js.dom/xmlns-attr?","a","clojure.data.xml.name/xmlns-uri","clojure.data.xml.js.dom/remove-xmlns-attrs-xf","cljs.core.remove","clojure.data.xml.js.dom/remove-xmlns-attrs","cljs.core.partial","cljs.core/into","clojure.data.xml.js.dom/filter-xmlns-attrs-xf","cljs.core.filter","clojure.data.xml.js.dom/filter-xmlns-attrs","G__55126","clojure.data.xml.js.dom/dom-element-attrs","clojure.data.xml.js.dom.dom_element_attrs","xf","cljs.core.transduce","cljs.core.completing","ta","attr-node","cljs.core.assoc_BANG_","cljs.core/persistent!","cljs.core/transient","cljs.core.array_seq","clojure.data.xml.js.dom/node-list-vec","nl","cljs.core.into","clojure.data.xml.js.dom/element-data","clojure.data.xml.js.dom/as-node","clojure.data.xml.node/xml-comment","clojure.data.xml.node/cdata","clojure.data.xml.node.element_STAR_","clojure.data.xml.js.dom/extend-dom-as-data!","G__55176","cljs.core/Keyword","nf","G__55177","nm","el0","el1","attr","temp__5733__auto__","i","not-found","acc","init","G__55195","G__55196","G__55197","nm0","nm1","or__4185__auto__","qn","cljs.core.get","cljs.core/reduced","nl0","nl1","cljs.core.nth","cljs.core.range","t0","t1","cljs.core/key","G__55230","cljs.core/val","G__55231"],"sourcesContent":["(ns clojure.data.xml.js.dom\n  (:require\n   [clojure.data.xml.name :refer [qname-uri qname-local qname xmlns-uri]]\n   [clojure.data.xml.node :as node]))\n\n(def doc\n  (.. (js/DOMParser.)\n      (parseFromString \"<d />\" \"text/xml\")))\n\n(defn text-node\n  \"Create a Text node\"\n  [s]\n  (.createTextNode doc s))\n\n(defn element*\n  \"Create an xml element from a content collection and optional metadata\"\n  ([tag attrs content meta]\n   (let [el (element* tag attrs content)]\n     (specify! el\n       IMeta\n       (-meta [_] meta)\n       IWithMeta\n       (-with-meta [_ meta]\n         (specify el\n           IMeta\n           (-meta [_] meta)\n           IWithMeta\n           (-with-meta [_ meta]\n             (-with-meta el meta)))))\n     el))\n  ([tag attrs content]\n   (let [el (.createElementNS doc (qname-uri tag) (qname-local tag))]\n     (reduce-kv (fn [_ k v]\n                  (let [uri (qname-uri k)]\n                    (if (= uri \"http://www.w3.org/2000/xmlns/\")\n                      (.setAttribute el (str \"xmlns:\" (qname-local k)) v)\n                      (.setAttributeNS el uri (qname-local k) v))))\n                nil attrs)\n     (reduce (fn [_ n]\n               (.appendChild el (if (string? n)\n                                  (text-node n)\n                                  n)))\n             nil content)\n     el)))\n\n(defn element\n  \"Create an xml Element from content varargs\"\n  ([tag] (element* tag nil nil))\n  ([tag attrs] (element* tag attrs nil))\n  ([tag attrs & content] (element* tag attrs content)))\n\n(defn cdata\n  \"Create a CData node\"\n  [content]\n  (.createCDATASection doc content))\n\n(defn xml-comment\n  \"Create a Comment node\"\n  [content]\n  (.createComment doc content))\n\n(declare element-node)\n\n(defn node-list\n  \"Create a NodeList\"\n  [elements]\n  (let [f (.createDocumentFragment doc)]\n    (doseq [el elements]\n      (.appendChild f (element-node el)))\n    (.-childNodes f)))\n\n;; ## Types\n\n;; we get these from reflection, to only depend only on js/DOMParser and js/XMLSerializer\n;; these can easily be provided in nashorn, ...\n\n(def Text (type (text-node \"\")))\n(def Element (type (element :e)))\n(def NamedNodeMap (type (.-attributes (element :e))))\n(def NodeList (type (node-list [])))\n(def Attr (type (aget (.-attributes (element :e {:a \"1\"})) 0)))\n(def CData (type (cdata \"\")))\n(def Comment (type (xml-comment \"\")))\n\n;; ## Coercions\n\n;; ## -> DOM\n\n(defn element-node\n  \"Coerce xml elements to dom nodes\"\n  [el]\n  (cond\n    (string? el) (text-node el)\n    (instance? node/CData el) (cdata (:content el))\n    (instance? node/Comment el) (xml-comment (:content el))\n    (instance? Element el) el\n    (instance? CData el) el\n    (instance? Comment el) el\n    ;; stupid xmldom, (some? (.-item el))\n    #_(instance? NodeList el)\n    (some? (.-item el)) el\n    (instance? Text el) el\n    (satisfies? ILookup el) (element* (:tag el)\n                                      (:attrs el)\n                                      (map element-node (:content el)))\n    (satisfies? ISequential el) (node-list el)\n    :else (throw (ex-info \"Cannot coerce\" {:form el}))))\n\n;; ## -> DATA\n\n(defn- dom-element-tag [el]\n  (qname (.-namespaceURI el)\n         (.-localName el)))\n\n(defn- xmlns-attr? [a]\n  (identical? xmlns-uri (.-namespaceURI a)))\n(def remove-xmlns-attrs-xf (remove xmlns-attr?))\n(def remove-xmlns-attrs (partial into {} remove-xmlns-attrs-xf))\n(def filter-xmlns-attrs-xf (filter xmlns-attr?))\n(def filter-xmlns-attrs (partial into {} filter-xmlns-attrs-xf))\n\n(defn dom-element-attrs\n  ([el] (dom-element-attrs remove-xmlns-attrs-xf el))\n  ([xf el]\n   (transduce\n    xf\n    (completing\n     (fn [ta attr-node]\n       (assoc! ta\n               (dom-element-tag attr-node)\n               (.-value attr-node)))\n     persistent!)\n    (transient {})\n    (array-seq el))))\n\n(declare element-data)\n\n(defn- node-list-vec [nl]\n  (into [] (map element-data) (array-seq nl)))\n\n(defn- as-node [n]\n  (if (instance? Text n)\n    (.-nodeValue n) ;; .-data\n    n))\n\n(defn element-data\n  \"Coerce xml elements to element maps / content vectors\"\n  [el]\n  (cond\n    (instance? Comment el)\n    (node/xml-comment (.-data el))\n    (instance? CData el)\n    (node/cdata (.-data el))\n    (instance? Text el)\n    (.-nodeValue el)\n    (instance? Element el)\n    (node/element* (dom-element-tag el)\n                   (dom-element-attrs (.-attributes el))\n                   (node-list-vec (.-childNodes el))\n                   {:clojure.data.xml/nss (dom-element-attrs\n                                           filter-xmlns-attrs-xf\n                                           (.-attributes el))})\n    ;;(instance? NamedNodeMap el)\n    (.-getNamedItemNS el)\n    (dom-element-attrs el)\n    (instance? NodeList el) (node-list-vec el)\n    (string? el) el\n    (satisfies? ILookup el) el\n    (satisfies? ISequential el) el\n    :else (throw (ex-info \"Element cannot be converted to data\" {:element el}))))\n\n(defn extend-dom-as-data! []\n  (extend-type Element\n    IMap\n    IMeta\n    (-meta [el]\n      {:clojure.data.xml/nss (filter-xmlns-attrs\n                              (.-attributes el))})\n    ILookup\n    (-lookup\n      ([el k]\n       (case k\n         :tag (dom-element-tag el)\n         :attrs (.-attributes el)\n         :content (.-childNodes el)\n         (throw (ex-info \"XML tag has no key\" {:key k :el el}))))\n      ([el k nf]\n       #_(println \"Element\" k \"=>\" (case k\n                                     :tag (dom-element-tag el)\n                                     :attrs (.-attributes el)\n                                     :content (.-childNodes el)\n                                     nf))\n       (case k\n         :tag (dom-element-tag el)\n         :attrs (remove-xmlns-attrs (.-attributes el))\n         :content (.-childNodes el)\n         nf)))\n    ICounted\n    (-count [nm] 3)\n    IEquiv\n    (-equiv [el0 el1]\n      (if false #_(instance? Element el1)\n          (do\n            ;; we can't use .isEqualNode, since that has bugs with namespaces\n            (.log js/console el0 el1)\n            (println 'isEqualNode (.isEqualNode el0 el1))\n            (.isEqualNode el0 el1))\n          (and (= (:tag el0) (:tag el1))\n               (= (:attrs el0) (:attrs el1))\n               (= (:content el0) (:content el1))))))\n  (extend-type NamedNodeMap\n    IMap\n    ISeqable\n    (-seq [nm] (array-seq nm))\n    ILookup\n    (-lookup\n      ([attrs attr]\n       (if-let [i (.getNamedItemNS attrs (qname-uri attr) (qname-local attr))]\n         (.-value i)\n         nil))\n      ([attrs attr not-found]\n       #_(println \"Attrs\" attr \"=>\" (if-let [i (.getNamedItemNS attrs (qname-uri attr) (qname-local attr))]\n                                      (.-value i)\n                                      not-found))\n       (if-let [i (.getNamedItemNS attrs (qname-uri attr) (qname-local attr))]\n         (.-value i)\n         not-found)))\n    ICounted\n    (-count [nm] (reduce (fn [acc attr]\n                           (if (xmlns-attr? attr)\n                             acc\n                             (inc acc)))\n                         0 nm))\n    IKVReduce\n    (-kv-reduce [nm f init]\n      (reduce (fn [acc attr]\n                (if (xmlns-attr? attr)\n                  acc\n                  (f acc (dom-element-tag attr) (.-value attr))))\n              init nm))\n    IEquiv\n    (-equiv [nm0 nm1]\n      #_(println \"NamedNodeMap.-equiv\" (identical? nm0 nm1) (count nm0) (count nm1))\n      (or (identical? nm0 nm1)\n          (and (identical? (count nm0) (count nm1))\n               (reduce-kv (fn [_ qn v]\n                            #_(println \"=\" v 'qn qn '(get nm1 qn \"\") (get nm1 qn \"\"))\n                            (or (identical? v (get nm1 qn \"\"))\n                                (reduced false)))\n                          true nm0)))))\n  (extend-type NodeList\n                                        ;specify! (.. (node-list []) -constructor -prototype)\n    ISeqable\n    (-seq [nl] (seq (map as-node (array-seq nl))))\n    ISequential\n    ICounted\n    (-count [nl] (alength nl))\n    IIndexed\n    (-nth\n      ([nl n]\n       (as-node (aget nl n)))\n      ([nl n nf]\n       (if (and (<= 0 n) (< n (alength nl)))\n         (as-node (aget nl n))\n         nf)))\n    IEquiv\n    (-equiv [nl0 nl1]\n      #_(println \"NodeList.-equiv\")\n      (or (identical? nl0 nl1)\n          (and (identical? (count nl0) (count nl1))\n               (reduce (fn [_ n]\n                         (or (= (nth nl0 n) (nth nl1 n))\n                             (reduced false)))\n                       true (range (count nl0)))))))\n  (extend-type Text\n    IEquiv\n    (-equiv [t0 t1]\n      (identical? (.-nodeValue t0)\n                  (if (instance? Text t1)\n                    (.-nodeValue t1)\n                    t1))))\n  (extend-type Attr\n    ISeqable\n    (-seq [attr] (array-seq #js[(key attr) (key attr)]))\n    IMapEntry\n    (-key [attr] (dom-element-tag attr))\n    (-val [attr] (.-value attr))\n    ISequential\n    ICounted\n    (-count [_] 2)\n    IIndexed\n    (-nth\n      ([attr n] (case n\n                  0 (key attr)\n                  1 (val attr)))\n      ([attr n nf]\n       (case n\n         0 (dom-element-tag attr)\n         1 (.-value attr)\n         nf))))\n  {'Text Text\n   'Element Element\n   'NamedNodeMap NamedNodeMap\n   'NodeList NodeList})\n"]}