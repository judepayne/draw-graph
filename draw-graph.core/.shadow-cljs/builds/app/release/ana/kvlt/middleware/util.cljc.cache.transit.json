["^ ","~:output",["^ ","~:js","goog.provide('kvlt.middleware.util');\nkvlt.middleware.util.__GT_content_type = (function kvlt$middleware$util$__GT_content_type(var_args){\nvar G__26773 = arguments.length;\nswitch (G__26773) {\ncase 1:\nreturn kvlt.middleware.util.__GT_content_type.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\n\nbreak;\ncase 2:\nreturn kvlt.middleware.util.__GT_content_type.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\n\nbreak;\ndefault:\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\n\n}\n});\n\nkvlt.middleware.util.__GT_content_type.cljs$core$IFn$_invoke$arity$1 = (function (t){\nif((t instanceof cljs.core.Keyword)){\nvar major = (function (){var or__4131__auto__ = cljs.core.namespace(t);\nif(cljs.core.truth_(or__4131__auto__)){\nreturn or__4131__auto__;\n} else {\nreturn new cljs.core.Keyword(null,\"application\",\"application\",551185447);\n}\n})();\nreturn [cljs.core.name(major),\"/\",cljs.core.name(t)].join('');\n} else {\nreturn t;\n}\n});\n\nkvlt.middleware.util.__GT_content_type.cljs$core$IFn$_invoke$arity$2 = (function (t,charset){\nvar G__26781 = kvlt.middleware.util.__GT_content_type.cljs$core$IFn$_invoke$arity$1(t);\nif(cljs.core.truth_(charset)){\nreturn [cljs.core.str.cljs$core$IFn$_invoke$arity$1(G__26781),\"; charset=\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(charset)].join('');\n} else {\nreturn G__26781;\n}\n});\n\nkvlt.middleware.util.__GT_content_type.cljs$lang$maxFixedArity = 2;\n\nkvlt.middleware.util.spec__GT_fn = (function kvlt$middleware$util$spec__GT_fn(spec){\nif((spec == null)){\nreturn cljs.core.identity;\n} else {\nif(cljs.core.coll_QMARK_(spec)){\nvar vec__26786 = spec;\nvar k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__26786,(0),null);\nvar f = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__26786,(1),null);\nreturn ((function (vec__26786,k,f){\nreturn (function (p1__26782_SHARP_){\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(p1__26782_SHARP_,k,f);\n});\n;})(vec__26786,k,f))\n} else {\nreturn spec;\n\n}\n}\n});\nkvlt.middleware.util.clean_req = (function kvlt$middleware$util$clean_req(r){\nreturn cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic(r,new cljs.core.Keyword(\"kvlt.middleware\",\"request\",\"kvlt.middleware/request\",-1063165256),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(\"kvlt.middleware\",\"response\",\"kvlt.middleware/response\",963961299),new cljs.core.Keyword(\"kvlt\",\"trace\",\"kvlt/trace\",-1086193122)], 0));\n});\nkvlt.middleware.util.wrap_before = (function kvlt$middleware$util$wrap_before(f){\nvar map__26800 = cljs.core.meta(f);\nvar map__26800__$1 = (((((!((map__26800 == null))))?(((((map__26800.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__26800.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__26800):map__26800);\nvar has = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__26800__$1,new cljs.core.Keyword(null,\"has\",\"has\",1466247447));\nvar removing = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__26800__$1,new cljs.core.Keyword(null,\"removing\",\"removing\",1104822312));\nvar f__$1 = (cljs.core.truth_(has)?((function (map__26800,map__26800__$1,has,removing){\nreturn (function (p__26803){\nvar map__26804 = p__26803;\nvar map__26804__$1 = (((((!((map__26804 == null))))?(((((map__26804.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__26804.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__26804):map__26804);\nvar req = map__26804__$1;\nvar v = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__26804__$1,has);\nvar G__26806 = req;\nif(cljs.core.truth_(v)){\nreturn (f.cljs$core$IFn$_invoke$arity$1 ? f.cljs$core$IFn$_invoke$arity$1(G__26806) : f.call(null,G__26806));\n} else {\nreturn G__26806;\n}\n});})(map__26800,map__26800__$1,has,removing))\n:f);\nif(cljs.core.truth_(removing)){\nreturn ((function (map__26800,map__26800__$1,has,removing,f__$1){\nreturn (function (req){\nreturn cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2((f__$1.cljs$core$IFn$_invoke$arity$1 ? f__$1.cljs$core$IFn$_invoke$arity$1(req) : f__$1.call(null,req)),removing);\n});\n;})(map__26800,map__26800__$1,has,removing,f__$1))\n} else {\nreturn f__$1;\n}\n});\nkvlt.middleware.util.__GT_mw = (function kvlt$middleware$util$__GT_mw(var_args){\nvar args__4736__auto__ = [];\nvar len__4730__auto___26921 = arguments.length;\nvar i__4731__auto___26922 = (0);\nwhile(true){\nif((i__4731__auto___26922 < len__4730__auto___26921)){\nargs__4736__auto__.push((arguments[i__4731__auto___26922]));\n\nvar G__26923 = (i__4731__auto___26922 + (1));\ni__4731__auto___26922 = G__26923;\ncontinue;\n} else {\n}\nbreak;\n}\n\nvar argseq__4737__auto__ = ((((2) < args__4736__auto__.length))?(new cljs.core.IndexedSeq(args__4736__auto__.slice((2)),(0),null)):null);\nreturn kvlt.middleware.util.__GT_mw.cljs$core$IFn$_invoke$arity$variadic((arguments[(0)]),(arguments[(1)]),argseq__4737__auto__);\n});\n\nkvlt.middleware.util.__GT_mw.cljs$core$IFn$_invoke$arity$variadic = (function (helpful_name,before,p__26812){\nvar vec__26813 = p__26812;\nvar after = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__26813,(0),null);\nvar after__$1 = kvlt.middleware.util.spec__GT_fn(after);\nvar before__$1 = kvlt.middleware.util.wrap_before(kvlt.middleware.util.spec__GT_fn(before));\nreturn ((function (after__$1,before__$1,vec__26813,after){\nreturn (function (issue_BANG_){\nreturn ((function (after__$1,before__$1,vec__26813,after){\nreturn (function (p__26817){\nvar map__26818 = p__26817;\nvar map__26818__$1 = (((((!((map__26818 == null))))?(((((map__26818.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__26818.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__26818):map__26818);\nvar req = map__26818__$1;\nvar trace = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__26818__$1,new cljs.core.Keyword(\"kvlt\",\"trace\",\"kvlt/trace\",-1086193122));\nvar req__$1 = (before__$1.cljs$core$IFn$_invoke$arity$1 ? before__$1.cljs$core$IFn$_invoke$arity$1(req) : before__$1.call(null,req));\nvar req__$2 = (function (){var G__26824 = req__$1;\nif(cljs.core.truth_(trace)){\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$4(G__26824,new cljs.core.Keyword(\"kvlt.middleware\",\"request\",\"kvlt.middleware/request\",-1063165256),cljs.core.fnil.cljs$core$IFn$_invoke$arity$2(cljs.core.conj,cljs.core.PersistentVector.EMPTY),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [helpful_name,kvlt.middleware.util.clean_req(req__$1)], null));\n} else {\nreturn G__26824;\n}\n})();\nreturn cats.core._GT__GT__EQ_.cljs$core$IFn$_invoke$arity$variadic((issue_BANG_.cljs$core$IFn$_invoke$arity$1 ? issue_BANG_.cljs$core$IFn$_invoke$arity$1(req__$2) : issue_BANG_.call(null,req__$2)),cljs.core.comp.cljs$core$IFn$_invoke$arity$2(cats.core.return$,after__$1),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([cljs.core.comp.cljs$core$IFn$_invoke$arity$2(cats.core.return$,((function (req__$1,req__$2,map__26818,map__26818__$1,req,trace,after__$1,before__$1,vec__26813,after){\nreturn (function (p1__26807_SHARP_){\nvar G__26825 = p1__26807_SHARP_;\nif(cljs.core.truth_(trace)){\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$4(G__26825,new cljs.core.Keyword(\"kvlt.middleware\",\"response\",\"kvlt.middleware/response\",963961299),cljs.core.fnil.cljs$core$IFn$_invoke$arity$2(cljs.core.conj,cljs.core.PersistentVector.EMPTY),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [helpful_name,kvlt.middleware.util.clean_req(req__$2)], null));\n} else {\nreturn G__26825;\n}\n});})(req__$1,req__$2,map__26818,map__26818__$1,req,trace,after__$1,before__$1,vec__26813,after))\n)], 0));\n});\n;})(after__$1,before__$1,vec__26813,after))\n});\n;})(after__$1,before__$1,vec__26813,after))\n});\n\nkvlt.middleware.util.__GT_mw.cljs$lang$maxFixedArity = (2);\n\n/** @this {Function} */\nkvlt.middleware.util.__GT_mw.cljs$lang$applyTo = (function (seq26808){\nvar G__26809 = cljs.core.first(seq26808);\nvar seq26808__$1 = cljs.core.next(seq26808);\nvar G__26810 = cljs.core.first(seq26808__$1);\nvar seq26808__$2 = cljs.core.next(seq26808__$1);\nvar self__4717__auto__ = this;\nreturn self__4717__auto__.cljs$core$IFn$_invoke$arity$variadic(G__26809,G__26810,seq26808__$2);\n});\n\nkvlt.middleware.util.url_decode = (function kvlt$middleware$util$url_decode(var_args){\nvar args__4736__auto__ = [];\nvar len__4730__auto___26927 = arguments.length;\nvar i__4731__auto___26928 = (0);\nwhile(true){\nif((i__4731__auto___26928 < len__4730__auto___26927)){\nargs__4736__auto__.push((arguments[i__4731__auto___26928]));\n\nvar G__26929 = (i__4731__auto___26928 + (1));\ni__4731__auto___26928 = G__26929;\ncontinue;\n} else {\n}\nbreak;\n}\n\nvar argseq__4737__auto__ = ((((1) < args__4736__auto__.length))?(new cljs.core.IndexedSeq(args__4736__auto__.slice((1)),(0),null)):null);\nreturn kvlt.middleware.util.url_decode.cljs$core$IFn$_invoke$arity$variadic((arguments[(0)]),argseq__4737__auto__);\n});\n\nkvlt.middleware.util.url_decode.cljs$core$IFn$_invoke$arity$variadic = (function (encoded,p__26834){\nvar vec__26836 = p__26834;\nvar encoding = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__26836,(0),null);\nvar encoding__$1 = (function (){var or__4131__auto__ = encoding;\nif(cljs.core.truth_(or__4131__auto__)){\nreturn or__4131__auto__;\n} else {\nreturn \"UTF-8\";\n}\n})();\nif(cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(\"UTF-8\",encoding__$1)){\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"warn\",\"warn\",-436710552),\"kvlt.middleware.util\",null,82,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (encoding__$1,vec__26836,encoding){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"url-decode ignoring encoding\",encoding__$1], null);\n});})(encoding__$1,vec__26836,encoding))\n,null)),null,-1625870953);\n} else {\n}\n\nreturn decodeURIComponent(encoded);\n});\n\nkvlt.middleware.util.url_decode.cljs$lang$maxFixedArity = (1);\n\n/** @this {Function} */\nkvlt.middleware.util.url_decode.cljs$lang$applyTo = (function (seq26830){\nvar G__26831 = cljs.core.first(seq26830);\nvar seq26830__$1 = cljs.core.next(seq26830);\nvar self__4717__auto__ = this;\nreturn self__4717__auto__.cljs$core$IFn$_invoke$arity$variadic(G__26831,seq26830__$1);\n});\n\nkvlt.middleware.util.url_encode = (function kvlt$middleware$util$url_encode(var_args){\nvar args__4736__auto__ = [];\nvar len__4730__auto___26939 = arguments.length;\nvar i__4731__auto___26940 = (0);\nwhile(true){\nif((i__4731__auto___26940 < len__4730__auto___26939)){\nargs__4736__auto__.push((arguments[i__4731__auto___26940]));\n\nvar G__26941 = (i__4731__auto___26940 + (1));\ni__4731__auto___26940 = G__26941;\ncontinue;\n} else {\n}\nbreak;\n}\n\nvar argseq__4737__auto__ = ((((1) < args__4736__auto__.length))?(new cljs.core.IndexedSeq(args__4736__auto__.slice((1)),(0),null)):null);\nreturn kvlt.middleware.util.url_encode.cljs$core$IFn$_invoke$arity$variadic((arguments[(0)]),argseq__4737__auto__);\n});\n\nkvlt.middleware.util.url_encode.cljs$core$IFn$_invoke$arity$variadic = (function (unencoded,p__26843){\nvar vec__26844 = p__26843;\nvar encoding = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__26844,(0),null);\nvar encoding__$1 = (function (){var or__4131__auto__ = encoding;\nif(cljs.core.truth_(or__4131__auto__)){\nreturn or__4131__auto__;\n} else {\nreturn \"UTF-8\";\n}\n})();\nif(cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(\"UTF-8\",encoding__$1)){\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"warn\",\"warn\",-436710552),\"kvlt.middleware.util\",null,92,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (encoding__$1,vec__26844,encoding){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"url-encode ignoring encoding\",encoding__$1], null);\n});})(encoding__$1,vec__26844,encoding))\n,null)),null,-86172585);\n} else {\n}\n\nreturn encodeURIComponent(unencoded);\n});\n\nkvlt.middleware.util.url_encode.cljs$lang$maxFixedArity = (1);\n\n/** @this {Function} */\nkvlt.middleware.util.url_encode.cljs$lang$applyTo = (function (seq26839){\nvar G__26840 = cljs.core.first(seq26839);\nvar seq26839__$1 = cljs.core.next(seq26839);\nvar self__4717__auto__ = this;\nreturn self__4717__auto__.cljs$core$IFn$_invoke$arity$variadic(G__26840,seq26839__$1);\n});\n\n/**\n * Takes a raw url path or query and url-encodes any illegal characters.\n *   Minimizes ambiguity by encoding space to %20.\n */\nkvlt.middleware.util.url_encode_illegal_characters = (function kvlt$middleware$util$url_encode_illegal_characters(path_or_query){\nif(cljs.core.truth_(path_or_query)){\nreturn clojure.string.replace(clojure.string.replace(path_or_query,\" \",\"%20\"),/[^a-zA-Z0-9\\.\\-\\_\\~\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=\\:\\@\\\\/\\%\\?]/,kvlt.middleware.util.url_encode);\n} else {\nreturn null;\n}\n});\n/**\n * Parse `s` as an RFC 2616 media type.\n */\nkvlt.middleware.util.parse_content_type = (function kvlt$middleware$util$parse_content_type(s){\nvar temp__5718__auto__ = cljs.core.re_matches(/\\s*(([^\\/]+)\\/([^ ;]+))\\s*(\\s*;.*)?/,cljs.core.str.cljs$core$IFn$_invoke$arity$1(s));\nif(cljs.core.truth_(temp__5718__auto__)){\nvar m = temp__5718__auto__;\nreturn new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"content-type\",\"content-type\",-508222634),cljs.core.keyword.cljs$core$IFn$_invoke$arity$1(cljs.core.nth.cljs$core$IFn$_invoke$arity$2(m,(1))),new cljs.core.Keyword(null,\"content-type-params\",\"content-type-params\",-199252295),cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic(((function (m,temp__5718__auto__){\nreturn (function (p__26870){\nvar vec__26873 = p__26870;\nvar k = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__26873,(0),null);\nvar v = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__26873,(1),null);\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.keyword.cljs$core$IFn$_invoke$arity$1(clojure.string.lower_case(k)),clojure.string.trim(v)], null);\n});})(m,temp__5718__auto__))\n,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([cljs.core.map.cljs$core$IFn$_invoke$arity$2(((function (m,temp__5718__auto__){\nreturn (function (p1__26863_SHARP_){\nreturn clojure.string.split.cljs$core$IFn$_invoke$arity$2(p1__26863_SHARP_,/=/);\n});})(m,temp__5718__auto__))\n,cljs.core.remove.cljs$core$IFn$_invoke$arity$2(clojure.string.blank_QMARK_,cljs.core.identity(clojure.string.split.cljs$core$IFn$_invoke$arity$2(cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.nth.cljs$core$IFn$_invoke$arity$2(m,(4))),/\\s*;\\s*/))))], 0)))], null);\n} else {\nreturn null;\n}\n});\nvar pattern_26942 = /charset\\s*=\\s*([^\\s]+)/i;\nkvlt.middleware.util.charset = ((function (pattern_26942){\nreturn (function kvlt$middleware$util$charset(var_args){\nvar args__4736__auto__ = [];\nvar len__4730__auto___26943 = arguments.length;\nvar i__4731__auto___26944 = (0);\nwhile(true){\nif((i__4731__auto___26944 < len__4730__auto___26943)){\nargs__4736__auto__.push((arguments[i__4731__auto___26944]));\n\nvar G__26945 = (i__4731__auto___26944 + (1));\ni__4731__auto___26944 = G__26945;\ncontinue;\n} else {\n}\nbreak;\n}\n\nvar argseq__4737__auto__ = ((((1) < args__4736__auto__.length))?(new cljs.core.IndexedSeq(args__4736__auto__.slice((1)),(0),null)):null);\nreturn kvlt.middleware.util.charset.cljs$core$IFn$_invoke$arity$variadic((arguments[(0)]),argseq__4737__auto__);\n});})(pattern_26942))\n;\n\nkvlt.middleware.util.charset.cljs$core$IFn$_invoke$arity$variadic = ((function (pattern_26942){\nreturn (function (content_type,p__26887){\nvar vec__26890 = p__26887;\nvar map__26893 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__26890,(0),null);\nvar map__26893__$1 = (((((!((map__26893 == null))))?(((((map__26893.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__26893.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__26893):map__26893);\nvar fallback = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__26893__$1,new cljs.core.Keyword(null,\"fallback\",\"fallback\",761637929));\nvar charset = (function (){var G__26895 = content_type;\nvar G__26895__$1 = (((G__26895 == null))?null:cljs.core.name(G__26895));\nvar G__26895__$2 = (((G__26895__$1 == null))?null:cljs.core.re_find(pattern_26942,G__26895__$1));\nif((G__26895__$2 == null)){\nreturn null;\n} else {\nreturn cljs.core.second(G__26895__$2);\n}\n})();\nvar or__4131__auto__ = charset;\nif(cljs.core.truth_(or__4131__auto__)){\nreturn or__4131__auto__;\n} else {\nvar or__4131__auto____$1 = fallback;\nif(cljs.core.truth_(or__4131__auto____$1)){\nreturn or__4131__auto____$1;\n} else {\nreturn \"UTF-8\";\n}\n}\n});})(pattern_26942))\n;\n\nkvlt.middleware.util.charset.cljs$lang$maxFixedArity = (1);\n\n/** @this {Function} */\nkvlt.middleware.util.charset.cljs$lang$applyTo = ((function (pattern_26942){\nreturn (function (seq26884){\nvar G__26885 = cljs.core.first(seq26884);\nvar seq26884__$1 = cljs.core.next(seq26884);\nvar self__4717__auto__ = this;\nreturn self__4717__auto__.cljs$core$IFn$_invoke$arity$variadic(G__26885,seq26884__$1);\n});})(pattern_26942))\n;\n\nkvlt.middleware.util.string__GT_base64 = (function kvlt$middleware$util$string__GT_base64(x){\nreturn goog.crypt.base64.encodeString(x);\n});\nkvlt.middleware.util.basic_auth = (function kvlt$middleware$util$basic_auth(v){\nvar vec__26896 = ((cljs.core.map_QMARK_(v))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (){var G__26899 = new cljs.core.Keyword(null,\"username\",\"username\",1605666410);\nreturn (v.cljs$core$IFn$_invoke$arity$1 ? v.cljs$core$IFn$_invoke$arity$1(G__26899) : v.call(null,G__26899));\n})(),(function (){var G__26900 = new cljs.core.Keyword(null,\"password\",\"password\",417022471);\nreturn (v.cljs$core$IFn$_invoke$arity$1 ? v.cljs$core$IFn$_invoke$arity$1(G__26900) : v.call(null,G__26900));\n})()], null):v);\nvar user = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__26896,(0),null);\nvar pass = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__26896,(1),null);\nreturn [\"Basic \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(kvlt.middleware.util.string__GT_base64([cljs.core.str.cljs$core$IFn$_invoke$arity$1(user),\":\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(pass)].join('')))].join('');\n});\nkvlt.middleware.util.parse_url = (function kvlt$middleware$util$parse_url(url){\nvar url__$1 = (new goog.Uri(url));\nreturn new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,\"scheme\",\"scheme\",90199613),cljs.core.keyword.cljs$core$IFn$_invoke$arity$1(url__$1.getScheme()),new cljs.core.Keyword(null,\"server-name\",\"server-name\",-1012104295),url__$1.getDomain(),new cljs.core.Keyword(null,\"server-port\",\"server-port\",663745648),(function (){var temp__5720__auto__ = url__$1.getPort();\nif(cljs.core.truth_(temp__5720__auto__)){\nvar port = temp__5720__auto__;\nif((port > (0))){\nreturn port;\n} else {\nreturn null;\n}\n} else {\nreturn null;\n}\n})(),new cljs.core.Keyword(null,\"uri\",\"uri\",-774711847),(function (){var G__26911 = url__$1;\nvar G__26911__$1 = (((G__26911 == null))?null:G__26911.getPath());\nif((G__26911__$1 == null)){\nreturn null;\n} else {\nreturn kvlt.middleware.util.url_encode_illegal_characters(G__26911__$1);\n}\n})(),new cljs.core.Keyword(null,\"query-string\",\"query-string\",-1018845061),(function (){var G__26913 = url__$1;\nvar G__26913__$1 = (((G__26913 == null))?null:G__26913.getQuery());\nvar G__26913__$2 = (((G__26913__$1 == null))?null:cljs.core.not_empty(G__26913__$1));\nif((G__26913__$2 == null)){\nreturn null;\n} else {\nreturn kvlt.middleware.util.url_encode_illegal_characters(G__26913__$2);\n}\n})(),new cljs.core.Keyword(null,\"user-info\",\"user-info\",-1061909920),(function (){var G__26916 = url__$1;\nvar G__26916__$1 = (((G__26916 == null))?null:G__26916.getUserInfo());\nvar G__26916__$2 = (((G__26916__$1 == null))?null:cljs.core.not_empty(G__26916__$1));\nif((G__26916__$2 == null)){\nreturn null;\n} else {\nreturn kvlt.middleware.util.url_decode(G__26916__$2);\n}\n})()], null);\n});\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","kvlt/middleware/util.cljc","~:line",1,"~:column",14,"~:end-line",1,"~:end-column",34,"~:no-doc",true],"~:ns-aliases",["^ ","~$cljs.loader","~$shadow.loader","~$react","~$module$node_modules$react$index","~$create-react-class","~$module$node_modules$create_react_class$index","~$react-dom","~$module$node_modules$react_dom$index","~$clojure.spec.alpha","~$cljs.spec.alpha"],"~:use-macros",null,"~:excludes",["~#set",[]],"~:macros",["^ ","~$defmw",["^ ","~:arglists",["~#list",[["~$varname","~$doc","~$before","~$&",["~$after"]]]],"^7",69,"^8",5,"^6","kvlt/middleware/util.cljc","~:name","~$kvlt.middleware.util/defmw","~:ns","~$kvlt.middleware.util","~:macro",true]],"^R","^U","~:op","^T","~:imports",null,"~:requires",["^ ","~$log","~$taoensso.timbre","~$cljs.core","^10","~$goog.crypt.base64","^11","~$goog","^12","~$cats.labs.promise","^13","~$m","~$cats.core","^14","^14","~$base64","^11","^[","^[","~$str","~$clojure.string","~$platform.util","~$kvlt.platform.util","^17","^17","^19","^19"],"~:seen",["^I",["~:require","~:require-macros"]],"~:uses",null,"^1<",["^ ","^U","^U","^10","^10","^Z","^[","~$m","^14","^14","^14","^[","^["],"~:form",["^M",["~$ns","^U",["^M",["^1;",["^19","~:as","^18"],["^13"],["^17","^1@","^16"],["^14","^1@","~$m"],["^[","^1@","^Z"],["^11","^1@","^15"]]],["^M",["^1<",["^U"]]],["^M",["~:import",["~$goog.Uri"]]]]],"~:flags",["^ ","^1;",["^I",[]],"^1<",["^I",[]]],"~:js-deps",["^ "],"~:deps",["^12","^10","^19","^13","^17","^14","^[","^11"]],"^T","^U","~:resource-id",["~:shadow.build.classpath/resource","kvlt/middleware/util.cljc"],"~:compiled-at",1560836579166,"~:resource-name","kvlt/middleware/util.cljc","~:warnings",[],"~:source","(ns ^:no-doc kvlt.middleware.util\n  (:require [kvlt.platform.util :as platform.util]\n            [cats.labs.promise]\n            [clojure.string :as str]\n            [cats.core :as m]\n            [taoensso.timbre :as log]\n            #? (:cljs [goog.crypt.base64 :as base64]))\n  #? (:clj\n      (:import [java.net URL URLEncoder URLDecoder]\n               [org.apache.commons.codec.binary Base64])\n      :cljs\n      (:require-macros [kvlt.middleware.util]))\n  #? (:cljs (:import [goog.Uri])))\n\n(defn ->content-type\n  ([t]\n   (if (keyword? t)\n     (let [major (or (namespace t) :application)]\n       (str (name major) \"/\" (name t)))\n     t))\n  ([t charset]\n   (cond-> (->content-type t) charset (str \"; charset=\" charset))))\n\n(defn spec->fn [spec]\n  (cond (nil?  spec) identity\n        (coll? spec) (let [[k f] spec]\n                       #(update % k f))\n        :else spec))\n\n(defn- clean-req [r]\n  (dissoc r\n          :kvlt.middleware/request\n          :kvlt.middleware/response\n          :kvlt/trace))\n\n(defn wrap-before [f]\n  (let [{:keys [has removing]} (meta f)\n        f (if has\n            (fn [{v has :as req}]\n              (cond-> req\n                v f))\n            f)]\n    (if removing\n      (fn [req]\n        (dissoc (f req) removing))\n      f)))\n\n(defn ->mw [helpful-name before & [after]]\n  (let [after  (spec->fn after)\n        before (-> before spec->fn wrap-before)]\n    (fn [issue!]\n      (fn [{:keys [kvlt/trace] :as req}]\n        (let [req (before req)\n              req (cond-> req\n                    trace (update :kvlt.middleware/request\n                                  (fnil conj [])\n                                  [helpful-name (clean-req req)]))]\n          (m/>>=\n           (issue! req)\n           (comp m/return after)\n           (comp m/return\n                 #(cond-> %\n                    trace\n                    (update :kvlt.middleware/response\n                            (fnil conj [])\n                            [helpful-name (clean-req req)])))))))))\n\n#? (:clj\n    (defmacro defmw [varname doc before & [after]]\n      `(def ~varname ~doc\n         (->mw ~(keyword varname) ~before ~after))))\n\n;; More or less all from clj-http, with portability adjustments\n\n(defn url-decode [encoded & [encoding]]\n  (let [encoding (or encoding \"UTF-8\")]\n    #? (:clj\n        (URLDecoder/decode encoded encoding)\n        :cljs\n        (do\n          (when (not= \"UTF-8\" encoding)\n            (log/warn \"url-decode ignoring encoding\" encoding))\n          (js/decodeURIComponent encoded)))))\n\n(defn url-encode [unencoded & [encoding]]\n  (let [encoding (or encoding \"UTF-8\")]\n    #? (:clj\n        (URLEncoder/encode unencoded encoding)\n        :cljs\n        (do\n          (when (not= \"UTF-8\" encoding)\n            (log/warn \"url-encode ignoring encoding\" encoding))\n          (js/encodeURIComponent unencoded)))))\n\n(defn url-encode-illegal-characters\n  \"Takes a raw url path or query and url-encodes any illegal characters.\n  Minimizes ambiguity by encoding space to %20.\"\n  [path-or-query]\n  (when path-or-query\n    (-> path-or-query\n        (str/replace \" \" \"%20\")\n        (str/replace #\"[^a-zA-Z0-9\\.\\-\\_\\~\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=\\:\\@\\/\\%\\?]\"\n                     url-encode))))\n\n(defn parse-content-type\n  \"Parse `s` as an RFC 2616 media type.\"\n  [s]\n  (if-let [m (re-matches #\"\\s*(([^/]+)/([^ ;]+))\\s*(\\s*;.*)?\" (str s))]\n    {:content-type (keyword (nth m 1))\n     :content-type-params\n     (->> (str/split (str (nth m 4)) #\"\\s*;\\s*\")\n          (identity)\n          (remove str/blank?)\n          (map #(str/split % #\"=\"))\n          (mapcat (fn [[k v]] [(keyword (str/lower-case k)) (str/trim v)]))\n          (apply hash-map))}))\n\n(let [pattern #\"(?i)charset\\s*=\\s*([^\\s]+)\"]\n  (defn charset\n    [content-type & [{:keys [fallback]}]]\n    (let [charset (some->> content-type name (re-find pattern) second)]\n      (or charset fallback \"UTF-8\"))))\n\n(defn string->base64 [x]\n  #? (:clj\n      (-> x (.getBytes \"UTF-8\") Base64/encodeBase64 (String. \"UTF-8\"))\n      :cljs\n      (base64/encodeString x)))\n\n(defn basic-auth [v]\n  (let [[user pass]\n        (if (map? v)\n          [(v :username) (v :password)]\n          v)]\n    (str \"Basic \" (string->base64 (str user \":\" pass)))))\n\n(defn ^:no-doc parse-url [url]\n  (let [url #? (:clj (java.net.URL. url) :cljs (goog.Uri. url))]\n    {:scheme       (-> url #? (:clj .getProtocol :cljs .getScheme) keyword)\n     :server-name  (.. url #? (:clj getHost :cljs getDomain))\n     :server-port  (when-let [port (.getPort url)]\n                     (when (pos? port) port))\n     :uri          (some-> url .getPath  url-encode-illegal-characters)\n     :query-string (some-> url .getQuery not-empty url-encode-illegal-characters)\n     :user-info    (some-> url .getUserInfo not-empty url-decode)}))\n","~:reader-features",["^I",["~:cljs"]],"~:cljc",true,"~:source-map-compact",["^ ","mappings","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","names",["var_args","G__26773","kvlt.middleware.util/->content-type","js/Error","t","cljs.core/Keyword","major","or__4131__auto__","cljs.core/namespace","cljs.core/name","charset","G__26781","kvlt.middleware.util.__GT_content_type.cljs$core$IFn$_invoke$arity$1","kvlt.middleware.util/spec->fn","spec","cljs.core/identity","cljs.core/coll?","vec__26786","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","p1__26782#","k","f","cljs.core.update.cljs$core$IFn$_invoke$arity$3","kvlt.middleware.util/clean-req","r","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic","kvlt.middleware.util/wrap-before","map__26800","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","has","removing","cljs.core/meta","p__26803","map__26804","v","req","G__26806","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2","args__4736__auto__","len__4730__auto__","i__4731__auto__","argseq__4737__auto__","cljs.core/IndexedSeq","kvlt.middleware.util/->mw","p__26812","vec__26813","seq26808","G__26809","cljs.core/first","cljs.core/next","G__26810","self__4717__auto__","helpful-name","before","after","issue!","p__26817","map__26818","trace","G__26824","cljs.core.update.cljs$core$IFn$_invoke$arity$4","cljs.core.fnil.cljs$core$IFn$_invoke$arity$2","cljs.core/conj","cats.core._GT__GT__EQ_.cljs$core$IFn$_invoke$arity$variadic","cljs.core.comp.cljs$core$IFn$_invoke$arity$2","cats.core/return","p1__26807#","G__26825","kvlt.middleware.util/url-decode","p__26834","vec__26836","seq26830","G__26831","encoded","encoding","cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2","taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10","taoensso.timbre/*config*","cljs.core/Delay","js/decodeURIComponent","kvlt.middleware.util/url-encode","p__26843","vec__26844","seq26839","G__26840","unencoded","js/encodeURIComponent","kvlt.middleware.util/url-encode-illegal-characters","path-or-query","clojure.string/replace","kvlt.middleware.util/parse-content-type","s","temp__5718__auto__","m","cljs.core/re-matches","cljs.core.keyword.cljs$core$IFn$_invoke$arity$1","cljs.core.nth.cljs$core$IFn$_invoke$arity$2","clojure.string.split.cljs$core$IFn$_invoke$arity$2","cljs.core.remove.cljs$core$IFn$_invoke$arity$2","clojure.string/blank?","p1__26863#","cljs.core.map.cljs$core$IFn$_invoke$arity$2","cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic","p__26870","vec__26873","clojure.string/lower-case","clojure.string/trim","pattern","kvlt.middleware.util/charset","p__26887","vec__26890","map__26893","seq26884","G__26885","content-type","fallback","G__26895","cljs.core/re-find","cljs.core/second","kvlt.middleware.util/string->base64","x","goog.crypt.base64/encodeString","kvlt.middleware.util/basic-auth","vec__26896","user","pass","cljs.core/map?","G__26899","G__26900","kvlt.middleware.util/parse-url","url","js/goog.Uri","temp__5720__auto__","port","G__26911","G__26913","cljs.core/not-empty","G__26916"]]],"~:cache-keys",["~#cmap",[["^1G","goog/dom/tagname.js"],[1560546089000,"~:shadow.build.compiler/resolve",["^ ","~:require-id",null,"~:deps-ids",["^I",[]],"~:deps-syms",["^12","~$goog.dom.HtmlElement"]]],["^1G","goog/async/freelist.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","goog/labs/useragent/platform.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.labs.userAgent.util","~$goog.string"]]],["^V","^10"],[1559826623000],["^1G","goog/crypt/crypt.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.array","~$goog.asserts"]]],["^1G","goog/timer/timer.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.Promise","~$goog.events.EventTarget"]]],["^1G","cljs/tools/reader/impl/utils.cljs"],[1560546087000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^17","^1Z"]]],["^1G","goog/math/math.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^1[","^20"]]],["^1G","goog/string/stringformat.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^1Z"]]],["^1G","goog/events/eventtype.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.events.BrowserFeature","~$goog.userAgent"]]],["^1G","goog/labs/useragent/browser.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^1[","^1Y","~$goog.object","~$goog.string.internal"]]],["^1G","goog/array/array.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^20"]]],["^1G","goog/useragent/useragent.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.labs.userAgent.browser","~$goog.labs.userAgent.engine","~$goog.labs.userAgent.platform","^1Y","~$goog.reflect","^1Z"]]],["^1G","goog/structs/prioritypool.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.structs.Pool","~$goog.structs.PriorityQueue"]]],["^V","~$cljs.tools.reader.reader-types"],[1560546087000],["~:shadow.build.npm/resource","node_modules/bluebird/js/browser/bluebird.js"],[1560546091000,1560546091000,1560546832000,"^1T",["^ ","^1U",22,"^1V",["^I",[3]],"^1W",["~$shadow.js","~$module$node_modules$process$browser"]]],["^1G","goog/async/run.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.async.WorkQueue","~$goog.async.nextTick","~$goog.async.throwException"]]],["^1G","taoensso/encore.cljs"],[1547383502000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^17","~$clojure.set","~$cljs.reader","~$cljs.tools.reader.edn","~$cljs.test","^25","^1Z","~$goog.string.format","~$goog.string.StringBuffer","~$goog.events","~$goog.net.XhrIo","~$goog.net.XhrIoPool","~$goog.Uri.QueryData","~$goog.structs","~$goog.net.EventType","~$goog.net.ErrorCode","~$taoensso.truss"]]],["^1G","goog/debug/error.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","cats/protocols.cljc"],[1547383501000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10"]]],["^1G","goog/async/workqueue.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^20","~$goog.async.FreeList"]]],["^1G","promesa/impl/scheduler.cljc"],[1547383501000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","~$promesa.impl.proto"]]],["^1G","goog/events/events.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^20","~$goog.debug.entryPointRegistry","~$goog.events.BrowserEvent","^23","~$goog.events.Listenable","~$goog.events.ListenerMap"]]],["^1G","goog/promise/resolver.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","goog/events/browserfeature.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^24"]]],["^1G","cljs/tools/reader/edn.cljs"],[1560546087000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","~$cljs.tools.reader.impl.errors","^2=","~$cljs.tools.reader.impl.utils","~$cljs.tools.reader.impl.commons","~$cljs.tools.reader","^1Z","^2I"]]],["^1G","goog/structs/priorityqueue.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.structs.Heap"]]],["^1G","goog/net/xhrio.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.Timer","^1[","^20","^2T","^22","~$goog.json.hybrid","~$goog.log","^2P","^2O","~$goog.net.HttpStatus","~$goog.net.XmlHttp","^25","^1Z","^2N","~$goog.structs.Map","~$goog.uri.utils","^24"]]],["^1G","goog/promise/thenable.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^V","^14"],[1547383501000],["^1G","goog/dom/nodetype.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^V","^["],[1547383502000],["^1G","cljs/tools/reader/impl/inspect.cljs"],[1560546087000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10"]]],["^1G","cljs/pprint.cljs"],[1559826623000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^17","^1Z","^2I"]]],["^1G","cljs/tools/reader.cljs"],[1560546087000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^2=","^2Y","^2Z","^2X","^1[","^1Z","^2I"]]],["^1G","cats/labs/promise.cljc"],[1547383501000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^14","~$cats.context","~$cats.protocols","~$promesa.core","^2S"]]],["^1G","goog/net/wrapperxmlhttpfactory.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.net.XhrLike","~$goog.net.XmlHttpFactory"]]],["^1G","goog/events/eventtarget.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.Disposable","^20","^2J","~$goog.events.Event","^2V","^2W","^25"]]],["^1G","cats/core.cljc"],[1547383501000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^39","^2D","^38"]]],["^1G","goog/disposable/disposable.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.disposable.IDisposable"]]],["^1G","shadow/js.js"],[1560546091000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","goog/object/object.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","goog/structs/set.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^2N","~$goog.structs.Collection","^36"]]],"~:SHADOW-TIMESTAMP",[1560546091000,1559826623000],["^1G","kvlt/platform/util.cljs"],[1547383501000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","~$clojure.walk"]]],["^1G","goog/math/long.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^20","^2:"]]],["^1G","goog/events/listener.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.events.ListenableKey"]]],["^1G","goog/events/listenermap.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^1[","~$goog.events.Listener","^25"]]],["^1G","goog/events/eventid.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","taoensso/truss.cljs"],[1547383502000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","~$taoensso.truss.impl"]]],["^1G","goog/string/internal.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","goog/functions/functions.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","kvlt/middleware/util.cljc"],[1547383501000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^19","^13","^17","^14","^[","^11"]]],["^1G","taoensso/truss/impl.cljs"],[1547383502000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^2D"]]],["^1G","clojure/walk.cljs"],[1559826623000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10"]]],["^1G","goog/useragent/product.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^27","^29","^24"]]],["^1G","goog/net/eventtype.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","goog/structs/map.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.iter.Iterator","~$goog.iter.StopIteration"]]],["^1G","goog/net/xhriopool.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^2K","~$goog.structs.PriorityPool"]]],["^1G","promesa/impl/proto.cljc"],[1547383501000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10"]]],["^1G","goog/structs/queue.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^1["]]],["^1G","goog/labs/useragent/engine.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^1[","^1Y","^1Z"]]],["^1G","taoensso/timbre/appenders/core.cljs"],[1547383502000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^17","~$taoensso.encore"]]],["^1G","cljs/reader.cljs"],[1559826623000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^25","^2[","^2F","^2I"]]],["^1G","cats/context.cljc"],[1547383501000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^39"]]],["^1G","goog/asserts/asserts.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.debug.Error","~$goog.dom.NodeType"]]],["^V","~$cljs.pprint"],[1559826623000],["^1G","goog/debug/logbuffer.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^20","~$goog.debug.LogRecord"]]],["^V","^3I"],[1547383502000],["^1G","goog/uri/uri.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^1[","^20","^1Z","^2N","^36","^37","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"]]],["^1G","goog/net/errorcode.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^V","^2G"],[1559826623000],["^1G","goog/disposable/idisposable.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","goog/promise/promise.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","~$goog.Thenable","^20","^2R","~$goog.async.run","^2C","^3J","~$goog.promise.Resolver"]]],["^2>","node_modules/process/browser.js"],[1560546091000,1560546091000,1559925118000,"^1T",["^ ","^1U",3,"^1V",["^I",[]],"^1W",["^2?"]]],["^1G","goog/debug/logrecord.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","goog/base.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",[]]],["^1G","promesa/core.cljc"],[1547383501000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","~$promesa.impl.promise","^2S","~$promesa.impl.scheduler"]]],["^1G","goog/json/hybrid.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^20","~$goog.json"]]],["^1G","goog/structs/structs.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^1[","^25"]]],["^1G","cljs/tools/reader/impl/errors.cljs"],[1560546087000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^2=","^17","~$cljs.tools.reader.impl.inspect"]]],["^1G","org/bluebird.cljs"],[1560546090000,"^1T",["^ ","^1U",null,"^1V",["^I",[22]],"^1W",["^12","^10","~$module$node_modules$bluebird$js$browser$bluebird"]]],["^1G","clojure/string.cljs"],[1559826623000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^1Z","^2I"]]],["^V","^U"],[1547383501000],["^1G","goog/structs/pool.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^3=","~$goog.structs.Queue","~$goog.structs.Set"]]],["^1G","goog/net/httpstatus.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","goog/structs/heap.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^1[","^25","~$goog.structs.Node"]]],["^1G","goog/debug/entrypointregistry.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^20"]]],["^1G","goog/string/string.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^26"]]],["^1G","goog/reflect/reflect.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","goog/labs/useragent/util.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^26"]]],["^V","~$clojure.template"],[1545934326000],["^1G","goog/debug/debug.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^1[","~$goog.debug.errorcontext","^24"]]],["^1G","goog/string/stringbuffer.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","goog/debug/errorcontext.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","cljs/tools/reader/reader_types.cljs"],[1560546087000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^2Y","^1Z","^2I"]]],["^1G","goog/iter/iter.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^1[","^20","~$goog.functions","~$goog.math"]]],["^1G","goog/async/nexttick.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^2T","~$goog.dom.TagName","^41","^27","^28"]]],["^V","^38"],[1547383501000],["^1G","goog/debug/logger.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^1[","^20","~$goog.debug","~$goog.debug.LogBuffer","^3M"]]],["^1G","goog/events/event.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^3=","~$goog.events.EventId"]]],["^1G","cljs/tools/reader/impl/commons.cljs"],[1560546087000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^2X","^2=","^2Y"]]],["^1G","goog/dom/htmlelement.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","cljs/core.cljs"],[1559826623000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["~$goog.math.Long","~$goog.math.Integer","^1Z","^25","^1[","^1B","^2I"]]],["^1G","goog/log/log.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^44","~$goog.debug.LogManager","^3M","~$goog.debug.Logger"]]],["^1G","goog/structs/collection.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","goog/events/browserevent.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^44","^23","^3>","~$goog.events.EventType","^2:","^24"]]],["^1G","goog/math/integer.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","goog/structs/node.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^V","^3E"],[1547383502000],["^1G","clojure/set.cljs"],[1559826623000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10"]]],["^1G","goog/uri/utils.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^1[","^20","^1Z"]]],["^1G","taoensso/timbre.cljs"],[1547383502000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^17","^3I","~$taoensso.timbre.appenders.core"]]],["^1G","goog/json/json.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^1G","goog/events/listenable.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^46"]]],["^1G","goog/net/xmlhttpfactory.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^3;"]]],["^1G","goog/net/xmlhttp.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^20","~$goog.net.WrapperXmlHttpFactory","^3<"]]],["^1G","cljs/test.cljs"],[1559826623000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","^17","^3L"]]],["^1G","goog/net/xhrlike.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12"]]],["^V","^2E"],[1559826623000],["^1G","promesa/impl/promise.cljc"],[1547383501000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^10","~$org.bluebird","^2S"]]],["^1G","goog/crypt/base64.js"],[1560546089000,"^1T",["^ ","^1U",null,"^1V",["^I",[]],"^1W",["^12","^20","~$goog.crypt","^1Z","^24","~$goog.userAgent.product"]]]]],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","kvlt/middleware/util.cljc","^7",1,"^8",14,"^9",1,"^:",34,"^;",true],"^<",["^ ","^=","^>","^?","^@","^A","^B","^C","^D","^E","^F"],"^G",null,"^H",["^I",[]],"^J",["^ ","^K",["^ ","^L",["^M",[["^N","^O","^P","~$&",["^Q"]]]],"^7",69,"^8",5,"^6","kvlt/middleware/util.cljc","^R","^S","^T","^U","^V",true]],"~:shadow/js-access-properties",["^I",["getUserInfo","getPath","getScheme","getPort","getDomain"]],"^R","^U","^X",null,"^Y",["^ ","^Z","^[","^10","^10","^11","^11","^12","^12","^13","^13","~$m","^14","^14","^14","^15","^11","^[","^[","^16","^17","^18","^19","^17","^17","^19","^19"],"^1:",["^I",["^1;","^1<"]],"~:shadow/js-access-global",["^I",["encodeURIComponent","Error","decodeURIComponent"]],"^1=",null,"~:defs",["^ ","~$url-decode",["^ ","~:protocol-inline",null,"^5",["^ ","^6","kvlt/middleware/util.cljc","^7",75,"^8",7,"^9",75,"^:",17,"^L",["^M",["~$quote",["^M",[["~$encoded","~$&",["~$encoding"]]]]]],"~:top-fn",["^ ","~:variadic?",true,"~:fixed-arity",1,"~:max-fixed-arity",1,"~:method-params",[["^M",["^4H",["^4I"]]]],"^L",["^M",[["^4H","~$&",["^4I"]]]],"~:arglists-meta",["^M",[null]]]],"^R","~$kvlt.middleware.util/url-decode","^6","kvlt/middleware/util.cljc","^:",17,"^4J",["^ ","^4K",true,"^4L",1,"^4M",1,"^4N",[["^M",["^4H",["^4I"]]]],"^L",["^M",[["^4H","~$&",["^4I"]]]],"^4O",["^M",[null]]],"^4N",[["^M",["^4H",["^4I"]]]],"~:protocol-impl",null,"^4L",1,"^4O",["^M",[null]],"^8",1,"^4K",true,"~:methods",[["^ ","^4L",1,"^4K",true,"~:tag","~$js"]],"^7",75,"~:ret-tag","~$any","^9",75,"^4M",1,"~:fn-var",true,"^L",["^M",[["^4H","~$&",["^4I"]]]]],"~$basic-auth",["^ ","^4F",null,"^5",["^ ","^6","kvlt/middleware/util.cljc","^7",130,"^8",7,"^9",130,"^:",17,"^L",["^M",["^4G",["^M",[["~$v"]]]]]],"^R","~$kvlt.middleware.util/basic-auth","^6","kvlt/middleware/util.cljc","^:",17,"^4N",["^M",[["~$v"]]],"^4Q",null,"^4O",["^M",[null,null]],"^8",1,"^4K",false,"^7",130,"^4U","~$string","^9",130,"^4M",1,"^4W",true,"^L",["^M",["^4G",["^M",[["~$v"]]]]]],"~$->content-type",["^ ","^4F",null,"^5",["^ ","^6","kvlt/middleware/util.cljc","^7",15,"^8",7,"^9",15,"^:",21,"^L",["^M",["^4G",["^M",[["~$t"],["~$t","~$charset"]]]]],"^4J",["^ ","^4K",false,"^4L",2,"^4M",2,"^4N",["^M",[["~$t"],["~$t","^50"]]],"^L",["^M",[["~$t"],["~$t","^50"]]],"^4O",["^M",[null,null]]]],"^R","~$kvlt.middleware.util/->content-type","^6","kvlt/middleware/util.cljc","^:",21,"^4J",["^ ","^4K",false,"^4L",2,"^4M",2,"^4N",["^M",[["~$t"],["~$t","^50"]]],"^L",["^M",[["~$t"],["~$t","^50"]]],"^4O",["^M",[null,null]]],"^4N",["^M",[["~$t"],["~$t","^50"]]],"^4Q",null,"^4L",2,"^4O",["^M",[null,null]],"^8",1,"^4K",false,"^4R",[["^ ","^4L",1,"^4K",false,"^4S",["^I",[null,"^4Z"]]],["^ ","^4L",2,"^4K",false,"^4S",["^I",[null,"^4Z"]]]],"^7",15,"^9",15,"^4M",2,"^4W",true,"^L",["^M",[["~$t"],["~$t","^50"]]]],"~$clean-req",["^ ","^4F",null,"^5",["^ ","^6","kvlt/middleware/util.cljc","^7",30,"^8",8,"^9",30,"^:",17,"~:private",true,"^L",["^M",["^4G",["^M",[["~$r"]]]]]],"^53",true,"^R","~$kvlt.middleware.util/clean-req","^6","kvlt/middleware/util.cljc","^:",17,"^4N",["^M",[["~$r"]]],"^4Q",null,"^4O",["^M",[null,null]],"^8",1,"^4K",false,"^7",30,"^4U",["^I",["~$clj","~$clj-nil"]],"^9",30,"^4M",1,"^4W",true,"^L",["^M",["^4G",["^M",[["~$r"]]]]]],"~$url-encode",["^ ","^4F",null,"^5",["^ ","^6","kvlt/middleware/util.cljc","^7",85,"^8",7,"^9",85,"^:",17,"^L",["^M",["^4G",["^M",[["~$unencoded","~$&",["^4I"]]]]]],"^4J",["^ ","^4K",true,"^4L",1,"^4M",1,"^4N",[["^M",["^58",["^4I"]]]],"^L",["^M",[["^58","~$&",["^4I"]]]],"^4O",["^M",[null]]]],"^R","~$kvlt.middleware.util/url-encode","^6","kvlt/middleware/util.cljc","^:",17,"^4J",["^ ","^4K",true,"^4L",1,"^4M",1,"^4N",[["^M",["^58",["^4I"]]]],"^L",["^M",[["^58","~$&",["^4I"]]]],"^4O",["^M",[null]]],"^4N",[["^M",["^58",["^4I"]]]],"^4Q",null,"^4L",1,"^4O",["^M",[null]],"^8",1,"^4K",true,"^4R",[["^ ","^4L",1,"^4K",true,"^4S","^4T"]],"^7",85,"^4U","^4V","^9",85,"^4M",1,"^4W",true,"^L",["^M",[["^58","~$&",["^4I"]]]]],"~$parse-url",["^ ","^;",true,"^4F",null,"^5",["^ ","^6","kvlt/middleware/util.cljc","^7",137,"^8",16,"^9",137,"^:",25,"^;",true,"^L",["^M",["^4G",["^M",[["~$url"]]]]]],"^R","~$kvlt.middleware.util/parse-url","^6","kvlt/middleware/util.cljc","^:",25,"^4N",["^M",[["^5;"]]],"^4Q",null,"^4O",["^M",[null,null]],"^8",1,"^4K",false,"^7",137,"^4U","~$cljs.core/IMap","^9",137,"^4M",1,"^4W",true,"^L",["^M",["^4G",["^M",[["^5;"]]]]]],"~$wrap-before",["^ ","^4F",null,"^5",["^ ","^6","kvlt/middleware/util.cljc","^7",36,"^8",7,"^9",36,"^:",18,"^L",["^M",["^4G",["^M",[["~$f"]]]]]],"^R","~$kvlt.middleware.util/wrap-before","^6","kvlt/middleware/util.cljc","^:",18,"^4N",["^M",[["~$f"]]],"^4Q",null,"^4O",["^M",[null,null]],"^8",1,"^4K",false,"^7",36,"^4U",["^I",[null,"~$function"]],"^9",36,"^4M",1,"^4W",true,"^L",["^M",["^4G",["^M",[["~$f"]]]]]],"^50",["^ ","^4F",null,"^5",["^ ","^6","kvlt/middleware/util.cljc","^7",119,"^8",9,"^9",119,"^:",16,"^L",["^M",["^4G",["^M",[["~$content-type","~$&",[["^ ","~:keys",["~$fallback"]]]]]]]],"^4J",["^ ","^4K",true,"^4L",1,"^4M",1,"^4N",[["^M",["^5A",[["^ ","^5B",["^5C"]]]]]],"^L",["^M",[["^5A","~$&",[["^ ","^5B",["^5C"]]]]]],"^4O",["^M",[null]]]],"^R","~$kvlt.middleware.util/charset","^6","kvlt/middleware/util.cljc","^:",16,"^4J",["^ ","^4K",true,"^4L",1,"^4M",1,"^4N",[["^M",["^5A",[["^ ","^5B",["^5C"]]]]]],"^L",["^M",[["^5A","~$&",[["^ ","^5B",["^5C"]]]]]],"^4O",["^M",[null]]],"^4N",[["^M",["^5A",[["^ ","^5B",["^5C"]]]]]],"^4Q",null,"^4L",1,"^4O",["^M",[null]],"^8",3,"^4K",true,"^4R",[["^ ","^4L",1,"^4K",true,"^4S",["^I",["^4V","^4Z"]]]],"^7",119,"^4U","^4V","^9",119,"^4M",1,"^4W",true,"^L",["^M",[["^5A","~$&",[["^ ","^5B",["^5C"]]]]]]],"~$spec->fn",["^ ","^4F",null,"^5",["^ ","^6","kvlt/middleware/util.cljc","^7",24,"^8",7,"^9",24,"^:",15,"^L",["^M",["^4G",["^M",[["~$spec"]]]]]],"^R","~$kvlt.middleware.util/spec->fn","^6","kvlt/middleware/util.cljc","^:",15,"^4N",["^M",[["^5F"]]],"^4Q",null,"^4O",["^M",[null,null]],"^8",1,"^4K",false,"^7",24,"^4U",["^I",[null,"^5@"]],"^9",24,"^4M",1,"^4W",true,"^L",["^M",["^4G",["^M",[["^5F"]]]]]],"~$parse-content-type",["^ ","^4F",null,"^5",["^ ","^6","kvlt/middleware/util.cljc","^7",105,"^8",7,"^9",105,"^:",25,"^L",["^M",["^4G",["^M",[["~$s"]]]]],"~:doc","Parse `s` as an RFC 2616 media type."],"^R","~$kvlt.middleware.util/parse-content-type","^6","kvlt/middleware/util.cljc","^:",25,"^4N",["^M",[["~$s"]]],"^4Q",null,"^4O",["^M",[null,null]],"^8",1,"^4K",false,"^7",105,"^4U",["^I",["^5=","^56"]],"^9",105,"^4M",1,"^4W",true,"^L",["^M",["^4G",["^M",[["~$s"]]]]],"^5I","Parse `s` as an RFC 2616 media type."],"~$string->base64",["^ ","^4F",null,"^5",["^ ","^6","kvlt/middleware/util.cljc","^7",124,"^8",7,"^9",124,"^:",21,"^L",["^M",["^4G",["^M",[["~$x"]]]]]],"^R","~$kvlt.middleware.util/string->base64","^6","kvlt/middleware/util.cljc","^:",21,"^4N",["^M",[["~$x"]]],"^4Q",null,"^4O",["^M",[null,null]],"^8",1,"^4K",false,"^7",124,"^4U","^4V","^9",124,"^4M",1,"^4W",true,"^L",["^M",["^4G",["^M",[["~$x"]]]]]],"~$url-encode-illegal-characters",["^ ","^4F",null,"^5",["^ ","^6","kvlt/middleware/util.cljc","^7",95,"^8",7,"^9",95,"^:",36,"^L",["^M",["^4G",["^M",[["~$path-or-query"]]]]],"^5I","Takes a raw url path or query and url-encodes any illegal characters.\n  Minimizes ambiguity by encoding space to %20."],"^R","~$kvlt.middleware.util/url-encode-illegal-characters","^6","kvlt/middleware/util.cljc","^:",36,"^4N",["^M",[["^5N"]]],"^4Q",null,"^4O",["^M",[null,null]],"^8",1,"^4K",false,"^7",95,"^4U",["^I",["^4V","^56"]],"^9",95,"^4M",1,"^4W",true,"^L",["^M",["^4G",["^M",[["^5N"]]]]],"^5I","Takes a raw url path or query and url-encodes any illegal characters.\n  Minimizes ambiguity by encoding space to %20."],"~$->mw",["^ ","^4F",null,"^5",["^ ","^6","kvlt/middleware/util.cljc","^7",48,"^8",7,"^9",48,"^:",11,"^L",["^M",["^4G",["^M",[["~$helpful-name","^P","~$&",["^Q"]]]]]],"^4J",["^ ","^4K",true,"^4L",2,"^4M",2,"^4N",[["^M",["^5Q","^P",["^Q"]]]],"^L",["^M",[["^5Q","^P","~$&",["^Q"]]]],"^4O",["^M",[null]]]],"^R","~$kvlt.middleware.util/->mw","^6","kvlt/middleware/util.cljc","^:",11,"^4J",["^ ","^4K",true,"^4L",2,"^4M",2,"^4N",[["^M",["^5Q","^P",["^Q"]]]],"^L",["^M",[["^5Q","^P","~$&",["^Q"]]]],"^4O",["^M",[null]]],"^4N",[["^M",["^5Q","^P",["^Q"]]]],"^4Q",null,"^4L",2,"^4O",["^M",[null]],"^8",1,"^4K",true,"^4R",[["^ ","^4L",2,"^4K",true,"^4S","^5@"]],"^7",48,"^4U","^4V","^9",48,"^4M",2,"^4W",true,"^L",["^M",[["^5Q","^P","~$&",["^Q"]]]]]],"^1<",["^ ","^U","^U","^10","^10","^Z","^[","~$m","^14","^14","^14","^[","^["],"~:cljs.analyzer/constants",["^ ","^1:",["^I",["~:user-info","~:else","~:application","~:password","~:removing","~:warn","~:fallback","~:username","~:server-port","~:kvlt.middleware/response","~:content-type","~:has","~:kvlt.middleware/request","~:uri","~:content-type-params","~:server-name","~:query-string","~:auto","~:p","~:scheme","~:kvlt/trace"]],"~:order",["^5V","^5U","^64","^61","^6;","^63","^5X","^5Y","~:p","^69","^62","^66","^5Z","^5[","^5W","^6:","^67","^60","^65","^68","^5T"]],"^1C",["^ ","^1;",["^I",[]],"^1<",["^I",[]]],"^1D",["^ "],"^1E",["^12","^10","^19","^13","^17","^14","^[","^11"]],"^T","^U","~:ns-specs",["^ "],"~:ns-speced-vars",[],"~:compiler-options",["^1S",[["^6?","~:static-fns"],true,["^6?","~:elide-asserts"],true,["^6?","~:optimize-constants"],null,["^6?","^1J"],null,["^6?","~:external-config"],null,["^6?","~:tooling-config"],null,["^6?","~:emit-constants"],null,["^6?","~:load-tests"],false,["^6?","~:infer-externs"],"^69",["^6?","^1L"],null,["~:js-options","~:js-provider"],"~:shadow",["~:mode"],"~:release",["^6?","~:fn-invoke-direct"],null,["^6?","~:source-map"],null]]]